import{v as _,w as F,x as X,y as s,z as t,A as e,B as T,C,D as v,F as z,G as L,H as q,I as P,J as R,K as O,T as be,L as I,M as de,O as ne,P as Y,Q,R as K,S as ee,U as me,V as pe,W as $,X as U,Y as N,Z,_ as te,$ as G,a0 as le,a1 as W,a2 as fe,a3 as we,a4 as ve}from"./vendor-C60-P_bF.js";import{a as A}from"./axios-NIGUFBhG.js";import{r as _e,g as ke}from"./draggable-c76Z8NbJ.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))b(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&b(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function b(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();const ae=(w,i)=>{const r=w.__vccOpts||w;for(const[b,o]of i)r[b]=o;return r},$e={class:"fixed top-0 left-0 w-full z-50 bg-white/80 backdrop-blur shadow-md border-b border-gray-200",style:{borderColor:"var(--border-primary)"}},Ce={class:"max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3 flex justify-between items-center"},je={class:"text-xl sm:text-2xl md:text-3xl font-extrabold tracking-tight drop-shadow-sm select-none",style:{color:"var(--primary-color)"}},Me={key:0,class:"text-xs sm:text-sm mt-1",style:{color:"var(--text-color-light)"}},Ve={class:"hidden md:flex gap-8 text-lg font-medium"},Be=["href"],ze=["href"],Ue={class:"md:hidden"},He={class:"w-6 h-6 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24","stroke-linecap":"round","stroke-linejoin":"round",style:{color:"var(--text-color-main)"}},Ae={key:0,d:"M4 6h16M4 12h16M4 18h16"},Le={key:1,d:"M6 18L18 6M6 6l12 12"},Pe={key:0,class:"md:hidden bg-white border-t border-gray-200 px-4 sm:px-6 pb-4 pt-2 flex flex-col gap-2 sm:gap-3 shadow-xl",style:{borderColor:"var(--border-primary)"}},Se=["href"],Ee=["href"],Ie={__name:"Header",setup(w){const i=_(!1),r=_({title:"Архитектор Иван Иванов",subtitle:"",navigation_links:[{text:"Обо мне",url:"/",type:"router-link"},{text:"Проекты",url:"/projects",type:"router-link"},{text:"Контакты",url:"#contacts",type:"anchor"}]}),b=async()=>{try{const o=await A.get("/api/header.php?section=header");o.data&&(r.value=o.data)}catch(o){console.error("Ошибка загрузки контента шапки:",o)}};return F(()=>{b()}),(o,u)=>{const d=X("router-link");return t(),s("header",$e,[e("div",Ce,[e("div",null,[e("h1",je,v(r.value.title||"Архитектор Иван Иванов"),1),r.value.subtitle?(t(),s("p",Me,v(r.value.subtitle),1)):C("",!0)]),e("nav",Ve,[(t(!0),s(z,null,L(r.value.navigation_links,g=>(t(),s(z,{key:g.text},[g.type==="router-link"?(t(),q(d,{key:0,to:g.url,class:O(["transition hover:underline underline-offset-8",{"text-primary-color":o.$route.path===g.url}]),style:{color:"var(--text-color-main)"}},{default:P(()=>[R(v(g.text),1)]),_:2},1032,["to","class"])):g.type==="anchor"?(t(),s("a",{key:1,href:g.url,class:"transition hover:underline underline-offset-8",style:{color:"var(--text-color-main)"}},v(g.text),9,Be)):(t(),s("a",{key:2,href:g.url,target:"_blank",rel:"noopener noreferrer",class:"transition hover:underline underline-offset-8",style:{color:"var(--text-color-main)"}},v(g.text),9,ze))],64))),128))]),e("div",Ue,[e("button",{onClick:u[0]||(u[0]=g=>i.value=!i.value),class:"p-2.5 rounded-xl bg-white hover:bg-gray-50 shadow-lg border border-gray-300 focus:outline-none focus:ring-2 transition-all duration-200 hover:shadow-xl",style:{"--tw-ring-color":"var(--primary-color)"}},[(t(),s("svg",He,[i.value?(t(),s("path",Le)):(t(),s("path",Ae))]))])])]),T(be,{name:"fade"},{default:P(()=>[i.value?(t(),s("nav",Pe,[(t(!0),s(z,null,L(r.value.navigation_links,g=>(t(),s(z,{key:g.text},[g.type==="router-link"?(t(),q(d,{key:0,to:g.url,class:O(["py-3 sm:py-4 px-3 sm:px-4 rounded-lg transition-all duration-200 text-sm sm:text-base font-medium border border-transparent",{"bg-blue-50 border-blue-200":o.$route.path===g.url,"hover:bg-blue-50 hover:border-blue-200":o.$route.path!==g.url}]),style:{color:"var(--text-color-main)","--tw-ring-color":"var(--primary-color)"},onClick:u[1]||(u[1]=p=>i.value=!1)},{default:P(()=>[R(v(g.text),1)]),_:2},1032,["to","class"])):g.type==="anchor"?(t(),s("a",{key:1,href:g.url,class:"py-3 sm:py-4 px-3 sm:px-4 rounded-lg transition-all duration-200 text-sm sm:text-base font-medium border border-transparent hover:bg-blue-50 hover:border-blue-200",style:{color:"var(--text-color-main)"},onClick:u[2]||(u[2]=p=>i.value=!1)},v(g.text),9,Se)):(t(),s("a",{key:2,href:g.url,target:"_blank",rel:"noopener noreferrer",class:"py-3 sm:py-4 px-3 sm:px-4 rounded-lg transition-all duration-200 text-sm sm:text-base font-medium border border-transparent hover:bg-blue-50 hover:border-blue-200",style:{color:"var(--text-color-main)"},onClick:u[3]||(u[3]=p=>i.value=!1)},v(g.text),9,Ee))],64))),128))])):C("",!0)]),_:1})])}}},De=ae(Ie,[["__scopeId","data-v-2db05538"]]),qe={id:"about",class:"relative mb-8 sm:mb-12 md:mb-16 lg:mb-20 overflow-hidden"},Te={class:"relative rounded-t-2xl sm:rounded-t-3xl p-4 sm:p-6 md:p-8 lg:p-16 shadow-xl",style:{background:"linear-gradient(135deg, var(--primary-color-light)10, var(--background-primary), var(--primary-color-light)10)"}},Re={class:"relative z-10 max-w-4xl mx-auto"},Oe={class:"text-center mb-8 sm:mb-10 md:mb-12"},We={class:"text-2xl sm:text-3xl md:text-4xl lg:text-6xl font-bold mb-4 sm:mb-6 leading-tight",style:{color:"var(--text-color-main)"}},Ne={class:"text-lg sm:text-xl md:text-2xl font-light mb-6 sm:mb-8",style:{color:"var(--text-color-light)"}},Fe={class:"grid md:grid-cols-2 gap-8 sm:gap-10 md:gap-12 items-center"},Ge={class:"space-y-4 sm:space-y-6"},Qe={class:"prose prose-sm sm:prose-base md:prose-lg leading-relaxed"},Ke={class:"mb-3 sm:mb-4 whitespace-pre-line text-sm sm:text-base",style:{color:"var(--text-color-light)"}},Ye={key:0,class:"text-sm sm:text-base",style:{color:"var(--text-color-light)"}},Je={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mt-6 sm:mt-8"},Xe={class:"w-6 h-6 sm:w-8 sm:h-8 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:"var(--primary-color-light)20"}},Ze={class:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--primary-color)"}},et={class:"font-medium text-sm sm:text-base",style:{color:"var(--text-color-main)"}},tt={class:"bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 shadow-lg border border-gray-100",style:{borderColor:"var(--border-primary)"}},st={class:"grid grid-cols-2 gap-4 sm:gap-6"},ot={class:"text-2xl sm:text-3xl font-bold mb-1 sm:mb-2",style:{color:"var(--primary-color)"}},rt={class:"text-xs sm:text-sm font-medium",style:{color:"var(--text-color-light)"}},lt={__name:"About",setup(w){const i=_({}),r=_(!0),b=[{text:"10+ лет опыта",icon:"check"},{text:"Инновационный подход",icon:"lightning"},{text:"Точность в сроках",icon:"clock"},{text:"Индивидуальный подход",icon:"heart"}],o=[{value:"50+",label:"Реализованных проектов"},{value:"10",label:"Лет опыта"},{value:"100%",label:"Довольных клиентов"},{value:"5",label:"Наград"}],u=async()=>{try{const d=await A.get("/api/about.php?section=hero");d.data&&(i.value=d.data)}catch(d){console.error("Ошибка загрузки контента:",d)}finally{r.value=!1}};return F(()=>{u()}),(d,g)=>(t(),s("section",qe,[e("div",Te,[g[4]||(g[4]=e("div",{class:"absolute top-0 right-0 w-32 h-32 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-full opacity-10 transform translate-x-16 sm:translate-x-24 md:translate-x-32 -translate-y-16 sm:-translate-y-24 md:-translate-y-32",style:{backgroundColor:"var(--primary-color-light)"}},null,-1)),g[5]||(g[5]=e("div",{class:"absolute bottom-0 left-0 w-24 h-24 sm:w-36 sm:h-36 md:w-48 md:h-48 rounded-full opacity-10 transform -translate-x-12 sm:-translate-x-18 md:-translate-x-24 translate-y-12 sm:translate-y-18 md:translate-y-24",style:{backgroundColor:"var(--primary-color)"}},null,-1)),e("div",Re,[e("div",Oe,[g[0]||(g[0]=e("div",{class:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full mb-4 sm:mb-6 shadow-lg",style:{backgroundColor:"var(--primary-color)"}},[e("svg",{class:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1)),e("h1",We,v(i.value.title||"Иван Иванов"),1),e("p",Ne,v(i.value.subtitle||"Архитектор современности"),1)]),e("div",Fe,[e("div",Ge,[e("div",Qe,[g[1]||(g[1]=e("p",{class:"text-lg sm:text-xl font-medium mb-3 sm:mb-4",style:{color:"var(--text-color-main)"}}," Создаю пространства, которые вдохновляют ",-1)),e("p",Ke,v(i.value.main_text||"Я — архитектор с опытом более 10 лет, специализирующийся на современных жилых и общественных зданиях. В каждом проекте стремлюсь найти баланс между эстетикой, функциональностью и устойчивостью."),1),i.value.main_text?C("",!0):(t(),s("p",Ye," Мой подход основан на глубоком понимании потребностей клиента, внимании к деталям и использовании передовых технологий в архитектуре. "))]),e("div",Je,[(t(!0),s(z,null,L(i.value.advantages||b,p=>(t(),s("div",{key:p.text,class:"flex items-center space-x-3"},[e("div",Xe,[(t(),s("svg",Ze,g[2]||(g[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])))]),e("span",et,v(p.text),1)]))),128))])]),e("div",tt,[e("div",st,[(t(!0),s(z,null,L(i.value.statistics||o,p=>(t(),s("div",{key:p.value,class:"text-center"},[e("div",ot,v(p.value),1),e("div",rt,v(p.label),1)]))),128))])])]),g[3]||(g[3]=e("div",{class:"text-center mt-8 sm:mt-10 md:mt-12"},[e("a",{href:"#contacts",class:"inline-flex items-center px-6 sm:px-8 py-3 sm:py-4 font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 text-sm sm:text-base",style:{backgroundColor:"var(--primary-color)",color:"var(--primary-color-contrast)"}},[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.13 8.13 0 01-2.906-.515L7 21l1.515-3.094A8.002 8.002 0 013 12c0-4.418 3.582-8 8-8s8 3.582 8 8z"})]),R(" Обсудить проект ")])],-1))])])]))}},at={id:"projects",class:"mb-16"},nt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},it={key:0,class:"col-span-full text-center py-10",style:{color:"var(--error-color)"}},dt={class:"relative h-48 flex items-center justify-center",style:{backgroundColor:"var(--background-secondary)"}},ut=["src","alt"],ct={key:1,class:"w-full h-48 flex items-center justify-center",style:{background:"linear-gradient(135deg, var(--border-primary), var(--border-secondary))"}},mt={class:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--text-color-light)"}},pt={class:"p-4 flex-1 flex flex-col"},vt={class:"text-xl font-bold mb-2",style:{color:"var(--text-color-main)"}},gt={class:"flex-1",style:{color:"var(--text-color-light)"}},xt={key:0,class:"col-span-full text-center py-10",style:{color:"var(--text-color-light)"}},bt={__name:"Projects",setup(w){const i=_([]),r=_(!0),b=_("");return F(async()=>{try{const o=await A.get("/api/projects.php");Array.isArray(o.data)?i.value=o.data:(i.value=[],b.value="Некорректный ответ от API (ожидался массив)")}catch(o){o.response?b.value=`Ошибка API: ${o.response.status} ${o.response.statusText}`:o.request?b.value="Нет ответа от сервера. Проверьте доступность API.":b.value="Ошибка: "+o.message,i.value=[]}finally{r.value=!1}}),(o,u)=>{const d=X("router-link");return t(),s("section",at,[u[2]||(u[2]=e("h2",{class:"text-3xl font-bold mb-8 text-center tracking-tight",style:{color:"var(--text-color-main)"}},"Проекты",-1)),e("div",nt,[r.value?(t(),s(z,{key:0},L(3,g=>e("div",{key:g,class:"bg-white rounded-xl shadow-lg p-6 animate-pulse flex flex-col gap-4",style:{borderColor:"var(--border-primary)"}},u[0]||(u[0]=[e("div",{class:"h-48 rounded-lg",style:{backgroundColor:"var(--border-primary)"}},null,-1),e("div",{class:"h-6 rounded w-2/3",style:{backgroundColor:"var(--border-primary)"}},null,-1),e("div",{class:"h-4 rounded w-full",style:{backgroundColor:"var(--border-secondary)"}},null,-1)]))),64)):(t(),s(z,{key:1},[b.value?(t(),s("div",it,v(b.value),1)):(t(),s(z,{key:1},[(t(!0),s(z,null,L(i.value,g=>(t(),q(d,{key:g.id,to:`/projects/${g.id}`,class:"bg-white rounded-xl shadow-lg overflow-hidden flex flex-col hover:shadow-2xl transition group focus:outline-none focus:ring-2",style:I([{borderColor:"var(--border-primary)","--tw-ring-color":"var(--primary-color)"},{"text-decoration":"none"}])},{default:P(()=>[e("div",dt,[g.image_url&&g.image_url.trim()!==""?(t(),s("img",{key:0,src:g.image_url,alt:g.title,class:"object-cover w-full h-48 transition-opacity duration-500 group-hover:brightness-90",loading:"lazy"},null,8,ut)):(t(),s("div",ct,[(t(),s("svg",mt,u[1]||(u[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 002 2z"},null,-1)])))]))]),e("div",pt,[e("h3",vt,v(g.title),1),e("p",gt,v(g.description),1)])]),_:2},1032,["to"]))),128)),!i.value.length&&!r.value?(t(),s("div",xt,"Нет проектов")):C("",!0)],64))],64))])])}}},ht={id:"gallery",class:"mb-8 sm:mb-12 md:mb-16 lg:mb-20"},yt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-8"},ft={class:"relative h-48 sm:h-56 md:h-64 overflow-hidden"},wt=["src","alt"],_t={key:1,class:"w-full h-full flex items-center justify-center",style:{background:"linear-gradient(135deg, var(--border-primary), var(--border-secondary))"}},kt={class:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--text-color-light)"}},$t={class:"absolute bottom-0 left-0 right-0 p-4 sm:p-6 text-white transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"},Ct={class:"text-lg sm:text-xl font-bold mb-2 drop-shadow-lg"},jt={class:"text-xs sm:text-sm opacity-90 drop-shadow"},Mt={class:"p-4 sm:p-6 transition-colors duration-300",style:{backgroundColor:"var(--background-primary)"}},Vt={class:"text-lg sm:text-xl font-bold mb-2 transition-colors",style:{color:"var(--text-color-main)"}},Bt={class:"text-sm leading-relaxed transition-colors",style:{color:"var(--text-color-light)"}},zt={class:"mt-4 flex items-center justify-between"},Ut={class:"w-4 h-4 sm:w-5 sm:h-5 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--primary-color)"}},Ht={__name:"Gallery",setup(w){const i=_([]),r=_(!0);return F(async()=>{try{const b=await A.get("/api/projects.php");Array.isArray(b.data)?i.value=b.data.slice(0,4):i.value=[]}finally{r.value=!1}}),(b,o)=>{const u=X("router-link");return t(),s("section",ht,[o[6]||(o[6]=e("div",{class:"text-center mb-8 sm:mb-12 md:mb-16"},[e("h2",{class:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-4 sm:mb-6",style:{color:"var(--text-color-main)"}},"Галерея работ"),e("p",{class:"text-base sm:text-lg md:text-xl max-w-2xl mx-auto px-4 sm:px-6",style:{color:"var(--text-color-light)"}}," Избранные проекты, демонстрирующие разнообразие архитектурных решений ")],-1)),e("div",yt,[r.value?(t(),s(z,{key:0},L(4,d=>e("div",{key:d,class:"group bg-white rounded-xl sm:rounded-2xl shadow-lg overflow-hidden animate-pulse",style:{borderColor:"var(--border-primary)"}},o[0]||(o[0]=[e("div",{class:"h-48 sm:h-56 md:h-64",style:{background:"linear-gradient(to right, var(--border-primary), var(--border-secondary))"}},null,-1),e("div",{class:"p-4 sm:p-6"},[e("div",{class:"h-4 sm:h-6 rounded w-2/3 mb-2",style:{backgroundColor:"var(--border-primary)"}}),e("div",{class:"h-3 sm:h-4 rounded w-full",style:{backgroundColor:"var(--border-secondary)"}})],-1)]))),64)):(t(!0),s(z,{key:1},L(i.value,(d,g)=>(t(),q(u,{key:d.id,to:`/projects/${d.id}`,class:"group bg-white rounded-xl sm:rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 sm:hover:-translate-y-3 hover:scale-[1.02]",style:I(`animation-delay: ${g*100}ms; borderColor: var(--border-primary)`)},{default:P(()=>[e("div",ft,[d.image_url&&d.image_url.trim()!==""?(t(),s("img",{key:0,src:d.image_url,alt:d.title,class:"w-full h-full object-cover transition-all duration-700 group-hover:scale-110 group-hover:brightness-110",loading:"lazy"},null,8,wt)):(t(),s("div",_t,[(t(),s("svg",kt,o[1]||(o[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 002 2z"},null,-1)])))])),o[2]||(o[2]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),o[3]||(o[3]=e("div",{class:"absolute top-3 sm:top-4 right-3 sm:right-4 w-8 h-8 sm:w-10 sm:h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 transform scale-75 group-hover:scale-100"},[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})])],-1)),e("div",$t,[e("h3",Ct,v(d.title),1),e("p",jt,v(d.description?.substring(0,80))+v(d.description?.length>80?"...":""),1)])]),e("div",Mt,[e("h3",Vt,v(d.title),1),e("p",Bt,v(d.description?.substring(0,100))+v(d.description?.length>100?"...":""),1),e("div",zt,[o[5]||(o[5]=e("span",{class:"text-xs px-2 sm:px-3 py-1 rounded-full font-medium",style:{backgroundColor:"var(--primary-color-light)20",color:"var(--primary-color)"}}," Архитектура ",-1)),(t(),s("svg",Ut,o[4]||(o[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"},null,-1)])))])])]),_:2},1032,["to","style"]))),128))])])}}},At=ae(Ht,[["__scopeId","data-v-7f981555"]]),Lt={id:"steps",class:"mb-8 sm:mb-12 md:mb-16 lg:mb-20"},Pt={class:"hidden lg:block relative"},St={class:"grid grid-cols-5 gap-8 relative z-10"},Et={class:"w-16 h-16 text-white rounded-full flex items-center justify-center text-xl font-bold mb-6 shadow-lg transform group-hover:scale-110 transition-all duration-300 relative z-10",style:{backgroundColor:"var(--primary-color)"}},It={class:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 w-full h-full flex flex-col",style:{borderColor:"var(--border-primary)"}},Dt={class:"flex justify-center mb-4"},qt={class:"w-16 h-16 rounded-2xl flex items-center justify-center transition-colors",style:{backgroundColor:"var(--primary-color-light)20"}},Tt={class:"text-center flex-1 flex flex-col"},Rt={class:"text-xl font-bold mb-3",style:{color:"var(--text-color-main)"}},Ot={class:"text-sm leading-relaxed flex-1",style:{color:"var(--text-color-light)"}},Wt={class:"mt-4 inline-block px-3 py-1 rounded-full text-xs font-medium self-center",style:{backgroundColor:"var(--primary-color-light)20",color:"var(--primary-color)"}},Nt={class:"lg:hidden space-y-6 sm:space-y-8"},Ft={class:"flex flex-col items-center"},Gt={class:"w-10 h-10 sm:w-12 sm:h-12 text-white rounded-full flex items-center justify-center text-sm sm:text-lg font-bold shadow-lg",style:{backgroundColor:"var(--primary-color)"}},Qt={key:0,class:"w-0.5 h-12 sm:h-16 mt-3 sm:mt-4",style:{backgroundColor:"var(--primary-color-light)"}},Kt={class:"flex-1 bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 h-full flex flex-col",style:{borderColor:"var(--border-primary)"}},Yt={class:"flex items-center mb-3 sm:mb-4"},Jt={class:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center mr-3 sm:mr-4",style:{backgroundColor:"var(--primary-color-light)20"}},Xt={class:"text-base sm:text-lg font-bold",style:{color:"var(--text-color-main)"}},Zt={class:"text-xs px-2 py-1 rounded-full font-medium",style:{backgroundColor:"var(--primary-color-light)20",color:"var(--primary-color)"}},es={class:"text-sm leading-relaxed flex-1",style:{color:"var(--text-color-light)"}},ts={class:"mt-8 sm:mt-12 md:mt-16 rounded-xl sm:rounded-2xl p-6 sm:p-8 md:p-12",style:{background:"linear-gradient(135deg, var(--primary-color-light)10, var(--background-secondary), var(--primary-color-light)10)"}},ss={class:"text-center"},os={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 sm:gap-8"},rs={class:"text-center"},ls={class:"w-12 h-12 sm:w-16 sm:h-16 bg-white rounded-xl sm:rounded-2xl shadow-lg flex items-center justify-center mx-auto mb-3 sm:mb-4"},as={class:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--primary-color)"}},ns={class:"text-center"},is={class:"w-12 h-12 sm:w-16 sm:h-16 bg-white rounded-xl sm:rounded-2xl shadow-lg flex items-center justify-center mx-auto mb-3 sm:mb-4"},ds={class:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--primary-color)"}},us={class:"text-center"},cs={class:"w-12 h-12 sm:w-16 sm:h-16 bg-white rounded-xl sm:rounded-2xl shadow-lg flex items-center justify-center mx-auto mb-3 sm:mb-4"},ms={class:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--primary-color)"}},ps={__name:"Steps",setup(w){const i=ne({render:()=>Y("svg",{width:32,height:32,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":2},[Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.13 8.13 0 01-2.906-.515L7 21l1.515-3.094A8.002 8.002 0 013 12c0-4.418 3.582-8 8-8s8 3.582 8 8z"})])}),r=ne({render:()=>Y("svg",{width:32,height:32,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":2},[Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})])}),b=ne({render:()=>Y("svg",{width:32,height:32,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":2},[Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])}),o=ne({render:()=>Y("svg",{width:32,height:32,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":2},[Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])}),u=ne({render:()=>Y("svg",{width:32,height:32,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":2},[Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])}),d=[{title:"Консультация",description:"Детальное обсуждение ваших потребностей, пожеланий и бюджета. Анализ участка и технических требований.",duration:"1-2 дня",icon:i},{title:"Концепция",description:"Разработка архитектурной концепции, эскизных чертежей и 3D-визуализаций для понимания общей идеи.",duration:"1-2 недели",icon:r},{title:"Согласование",description:"Презентация концепции, внесение корректировок по вашим замечаниям и финальное утверждение проекта.",duration:"3-5 дней",icon:b},{title:"Документация",description:"Подготовка полного комплекта рабочих чертежей, спецификаций и технических решений для строительства.",duration:"2-4 недели",icon:o},{title:"Сопровождение",description:"Авторский надзор на этапе строительства, консультации подрядчиков и контроль качества выполнения работ.",duration:"весь период",icon:u}];return(g,p)=>(t(),s("section",Lt,[p[12]||(p[12]=e("div",{class:"text-center mb-8 sm:mb-12 md:mb-16"},[e("h2",{class:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-4 sm:mb-6",style:{color:"var(--text-color-main)"}},"Этапы работы"),e("p",{class:"text-base sm:text-lg md:text-xl max-w-3xl mx-auto px-4 sm:px-6",style:{color:"var(--text-color-light)"}}," Пошаговый процесс создания вашего идеального проекта от идеи до воплощения ")],-1)),e("div",Pt,[p[0]||(p[0]=e("div",{class:"absolute top-20 left-0 right-0 h-0.5 z-0",style:{background:"linear-gradient(to right, var(--primary-color-light), var(--primary-color), var(--primary-color-light))"}},null,-1)),e("div",St,[(t(),s(z,null,L(d,(c,l)=>e("div",{key:l,class:"flex flex-col items-center group"},[e("div",Et,v(l+1),1),e("div",It,[e("div",Dt,[e("div",qt,[(t(),q(de(c.icon),{class:"w-8 h-8",style:{color:"var(--primary-color)"}}))])]),e("div",Tt,[e("h3",Rt,v(c.title),1),e("p",Ot,v(c.description),1),e("div",Wt,v(c.duration),1)])])])),64))])]),e("div",Nt,[(t(),s(z,null,L(d,(c,l)=>e("div",{key:l,class:"flex items-start space-x-4 sm:space-x-6"},[e("div",Ft,[e("div",Gt,v(l+1),1),l<d.length-1?(t(),s("div",Qt)):C("",!0)]),e("div",Kt,[e("div",Yt,[e("div",Jt,[(t(),q(de(c.icon),{class:"w-5 h-5 sm:w-6 sm:h-6",style:{color:"var(--primary-color)"}}))]),e("div",null,[e("h3",Xt,v(c.title),1),e("span",Zt,v(c.duration),1)])]),e("p",es,v(c.description),1)])])),64))]),e("div",ts,[e("div",ss,[p[10]||(p[10]=e("h3",{class:"text-xl sm:text-2xl md:text-3xl font-bold mb-3 sm:mb-4",style:{color:"var(--text-color-main)"}},"Прозрачность процесса",-1)),p[11]||(p[11]=e("p",{class:"mb-6 sm:mb-8 max-w-3xl mx-auto text-sm sm:text-base",style:{color:"var(--text-color-light)"}}," На каждом этапе вы получаете детальные отчеты о ходе работ, промежуточные результаты и возможность внести корректировки. Никаких сюрпризов — только качественная работа в срок. ",-1)),e("div",os,[e("div",rs,[e("div",ls,[(t(),s("svg",as,p[1]||(p[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])))]),p[2]||(p[2]=e("h4",{class:"font-bold mb-2 text-sm sm:text-base",style:{color:"var(--text-color-main)"}},"Фиксированные сроки",-1)),p[3]||(p[3]=e("p",{class:"text-xs sm:text-sm",style:{color:"var(--text-color-light)"}},"Четкий план работ с конкретными датами",-1))]),e("div",ns,[e("div",is,[(t(),s("svg",ds,p[4]||(p[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))]),p[5]||(p[5]=e("h4",{class:"font-bold mb-2 text-sm sm:text-base",style:{color:"var(--text-color-main)"}},"Полная прозрачность",-1)),p[6]||(p[6]=e("p",{class:"text-xs sm:text-sm",style:{color:"var(--text-color-light)"}},"Детальные отчеты на каждом этапе",-1))]),e("div",us,[e("div",cs,[(t(),s("svg",ms,p[7]||(p[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])))]),p[8]||(p[8]=e("h4",{class:"font-bold mb-2 text-sm sm:text-base",style:{color:"var(--text-color-main)"}},"Регулярные обновления",-1)),p[9]||(p[9]=e("p",{class:"text-xs sm:text-sm",style:{color:"var(--text-color-light)"}},"Еженедельные отчеты о прогрессе",-1))])])])])]))}},vs={},gs={id:"reviews",class:"mb-8 sm:mb-12 md:mb-16 lg:mb-20"},xs={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-8"},bs={class:"group bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 md:p-8 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 sm:hover:-translate-y-2",style:{borderColor:"var(--border-primary)"}},hs={class:"flex items-center mb-4 sm:mb-6"},ys={class:"flex space-x-1"},fs={class:"text-sm sm:text-base md:text-lg leading-relaxed mb-4 sm:mb-6 relative pl-6 sm:pl-8",style:{color:"var(--text-color-main)"}},ws={class:"absolute top-0 left-0 w-4 h-4 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--primary-color-light)"}},_s={class:"group bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 md:p-8 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 sm:hover:-translate-y-2",style:{borderColor:"var(--border-primary)"}},ks={class:"flex items-center mb-4 sm:mb-6"},$s={class:"flex space-x-1"},Cs={class:"text-sm sm:text-base md:text-lg leading-relaxed mb-4 sm:mb-6 relative pl-6 sm:pl-8",style:{color:"var(--text-color-main)"}},js={class:"absolute top-0 left-0 w-4 h-4 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--primary-color-light)"}},Ms={class:"group bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 md:p-8 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 sm:hover:-translate-y-2 sm:col-span-2 lg:col-span-1",style:{borderColor:"var(--border-primary)"}},Vs={class:"flex items-center mb-4 sm:mb-6"},Bs={class:"flex space-x-1"},zs={class:"text-sm sm:text-base md:text-lg leading-relaxed mb-4 sm:mb-6 relative pl-6 sm:pl-8",style:{color:"var(--text-color-main)"}},Us={class:"absolute top-0 left-0 w-4 h-4 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--primary-color-light)"}};function Hs(w,i){return t(),s("section",gs,[i[12]||(i[12]=e("div",{class:"text-center mb-8 sm:mb-12 md:mb-16"},[e("h2",{class:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-4 sm:mb-6",style:{color:"var(--text-color-main)"}},"Отзывы клиентов"),e("p",{class:"text-base sm:text-lg md:text-xl max-w-2xl mx-auto px-4 sm:px-6",style:{color:"var(--text-color-light)"}}," Мнения тех, кто доверил мне создание своих проектов ")],-1)),e("div",xs,[e("div",bs,[e("div",hs,[e("div",ys,[(t(),s(z,null,L(5,r=>e("svg",{key:r,class:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",style:{color:"#fbbf24"}},i[0]||(i[0]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]))),64))])]),e("blockquote",fs,[(t(),s("svg",ws,i[1]||(i[1]=[e("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h4v10h-10z"},null,-1)]))),i[2]||(i[2]=R(' "Работа выполнена на высшем уровне! Иван не просто создал проект дома моей мечты, но и учел все мои пожелания. Результат превзошел ожидания." ',-1))]),i[3]||(i[3]=Q('<div class="flex items-center"><img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Анна Петрова" class="w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-full shadow-lg border-2 border-white"><div class="ml-3 sm:ml-4"><div class="font-bold text-sm sm:text-base" style="color:var(--text-color-main);">Анна Петрова</div><div class="text-xs sm:text-sm" style="color:var(--text-color-light);">Частный дом, 250 м²</div></div></div>',1))]),e("div",_s,[e("div",ks,[e("div",$s,[(t(),s(z,null,L(5,r=>e("svg",{key:r,class:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",style:{color:"#fbbf24"}},i[4]||(i[4]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]))),64))])]),e("blockquote",Cs,[(t(),s("svg",js,i[5]||(i[5]=[e("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h4v10h-10z"},null,-1)]))),i[6]||(i[6]=R(' "Потрясающий проект офиса! Пространство стало функциональным и современным. Команда работает в комфорте. Рекомендую всем!" ',-1))]),i[7]||(i[7]=Q('<div class="flex items-center"><img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Сергей Иванов" class="w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-full shadow-lg border-2 border-white"><div class="ml-3 sm:ml-4"><div class="font-bold text-sm sm:text-base" style="color:var(--text-color-main);">Сергей Иванов</div><div class="text-xs sm:text-sm" style="color:var(--text-color-light);">Офис IT-компании, 180 м²</div></div></div>',1))]),e("div",Ms,[e("div",Vs,[e("div",Bs,[(t(),s(z,null,L(5,r=>e("svg",{key:r,class:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",style:{color:"#fbbf24"}},i[8]||(i[8]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]))),64))])]),e("blockquote",zs,[(t(),s("svg",Us,i[9]||(i[9]=[e("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h4v10h-10z"},null,-1)]))),i[10]||(i[10]=R(' "Переделка квартиры прошла без проблем. Иван продумал каждый сантиметр. Теперь у нас уютное и стильное пространство для всей семьи." ',-1))]),i[11]||(i[11]=Q('<div class="flex items-center"><img src="https://randomuser.me/api/portraits/women/68.jpg" alt="Марина Козлова" class="w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-full shadow-lg border-2 border-white"><div class="ml-3 sm:ml-4"><div class="font-bold text-sm sm:text-base" style="color:var(--text-color-main);">Марина Козлова</div><div class="text-xs sm:text-sm" style="color:var(--text-color-light);">Квартира, 95 м²</div></div></div>',1))])]),i[13]||(i[13]=Q('<div class="mt-16"><div class="rounded-2xl p-8 md:p-12" style="background:linear-gradient(135deg, var(--primary-color-light)10, var(--background-secondary), var(--primary-color-light)10);"><div class="text-center mb-8"><h3 class="text-2xl md:text-3xl font-bold mb-4" style="color:var(--text-color-main);">Цифры, которые говорят сами за себя</h3><p style="color:var(--text-color-light);">Результаты нашей совместной работы</p></div><div class="grid grid-cols-2 md:grid-cols-4 gap-8"><div class="text-center"><div class="text-3xl md:text-4xl font-bold mb-2" style="color:var(--primary-color);">98%</div><div class="text-sm font-medium" style="color:var(--text-color-light);">Довольных клиентов</div></div><div class="text-center"><div class="text-3xl md:text-4xl font-bold mb-2" style="color:var(--primary-color);">4.9</div><div class="text-sm font-medium" style="color:var(--text-color-light);">Средний рейтинг</div></div><div class="text-center"><div class="text-3xl md:text-4xl font-bold mb-2" style="color:var(--primary-color);">45</div><div class="text-sm font-medium" style="color:var(--text-color-light);">Дней средний срок</div></div><div class="text-center"><div class="text-3xl md:text-4xl font-bold mb-2" style="color:var(--primary-color);">67%</div><div class="text-sm font-medium" style="color:var(--text-color-light);">Повторных клиентов</div></div></div></div></div><div class="mt-12 text-center"><p class="mb-6" style="color:var(--text-color-light);">Хотите присоединиться к довольным клиентам?</p><a href="#contacts" class="inline-flex items-center px-8 py-4 font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1" style="background-color:var(--primary-color);color:var(--primary-color-contrast);"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.13 8.13 0 01-2.906-.515L7 21l1.515-3.094A8.002 8.002 0 013 12c0-4.418 3.582-8 8-8s8 3.582 8 8z"></path></svg> Обсудить ваш проект </a></div>',2))])}const As=ae(vs,[["render",Hs]]),Ls={id:"contacts",class:"relative"},Ps={class:"text-center mb-8 sm:mb-12 md:mb-16"},Ss={class:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-4 sm:mb-6",style:{color:"var(--text-color-main)"}},Es={class:"text-base sm:text-lg md:text-xl max-w-2xl mx-auto px-4 sm:px-6",style:{color:"var(--text-color-light)"}},Is={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-10 md:gap-12 items-start"},Ds={class:"space-y-6 sm:space-y-8"},qs={class:"bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 shadow-lg",style:{borderColor:"var(--border-primary)"}},Ts={class:"space-y-4 sm:space-y-6"},Rs={class:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:"var(--primary-color-light)20"}},Os={class:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--primary-color)"}},Ws={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},Ns={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"},Fs={key:2,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"},Gs={key:3,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"},Qs={class:"font-semibold mb-1 text-sm sm:text-base",style:{color:"var(--text-color-main)"}},Ks=["href"],Ys=["href"],Js={key:2,class:"whitespace-pre-line text-sm sm:text-base",style:{color:"var(--text-color-light)"}},Xs={key:0,class:"flex items-start space-x-3 sm:space-x-4"},Zs={class:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:"var(--primary-color-light)20"}},eo={class:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--primary-color)"}},to={class:"font-medium"},so={key:0,class:"bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 shadow-lg",style:{borderColor:"var(--border-primary)"}},oo={class:"flex space-x-3 sm:space-x-4"},ro=["href"],lo={class:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24"},ao={key:0,d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"},no={key:1,d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"},io={key:2,d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"},uo={key:3,d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.748.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.746-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001 12.017.001z"},co={key:4,d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},mo={class:"mt-16 text-center"},po={class:"rounded-2xl p-8",style:{background:"linear-gradient(135deg, var(--primary-color-light)10, var(--background-secondary), var(--primary-color-light)10)"}},vo={class:"flex flex-col sm:flex-row gap-4 justify-center"},go=["href"],xo=["href"],bo={__name:"Contacts",setup(w){const i=_({}),r=[{type:"email",label:"Email",value:"ivan.architect@email.com",icon:"email"},{type:"phone",label:"Телефон",value:"+7 (999) 123-45-67",icon:"phone"},{type:"address",label:"Офис",value:`г. Москва, ул. Архитектурная, 12
БЦ "Современность", офис 305`,icon:"location"}],b=async()=>{try{const o=await A.get("/api/contacts.php?section=contacts");o.data&&(i.value=o.data)}catch(o){console.error("Ошибка загрузки контента:",o)}};return F(()=>{b()}),(o,u)=>(t(),s("section",Ls,[e("div",Ps,[e("h2",Ss,v(i.value.title||"Свяжитесь со мной"),1),e("p",Es,v(i.value.subtitle||"Готов обсудить ваш проект и воплотить архитектурные идеи в реальность"),1)]),e("div",Is,[e("div",Ds,[e("div",qs,[u[2]||(u[2]=e("h3",{class:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",style:{color:"var(--text-color-main)"}},"Контактная информация",-1)),e("div",Ts,[(t(!0),s(z,null,L(i.value.contact_info||r,d=>(t(),s("div",{key:d.type,class:"flex items-start space-x-3 sm:space-x-4"},[e("div",Rs,[(t(),s("svg",Os,[d.type==="email"?(t(),s("path",Ws)):d.type==="phone"?(t(),s("path",Ns)):(t(),s("path",Fs)),d.type==="address"?(t(),s("path",Gs)):C("",!0)]))]),e("div",null,[e("h4",Qs,v(d.label),1),d.type==="email"?(t(),s("a",{key:0,href:`mailto:${d.value}`,class:"transition-colors text-sm sm:text-base",style:{color:"var(--primary-color)"}},v(d.value),9,Ks)):d.type==="phone"?(t(),s("a",{key:1,href:`tel:${d.value}`,class:"transition-colors text-sm sm:text-base",style:{color:"var(--primary-color)"}},v(d.value),9,Ys)):(t(),s("p",Js,v(d.value),1))])]))),128)),i.value.working_hours&&i.value.working_hours.length>0?(t(),s("div",Xs,[e("div",Zs,[(t(),s("svg",eo,u[0]||(u[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])))]),e("div",null,[u[1]||(u[1]=e("h4",{class:"font-semibold mb-1 text-sm sm:text-base",style:{color:"var(--text-color-main)"}},"Время работы",-1)),(t(!0),s(z,null,L(i.value.working_hours,d=>(t(),s("div",{key:d.days,class:"text-sm sm:text-base",style:{color:"var(--text-color-light)"}},[e("span",to,v(d.days)+":",1),R(" "+v(d.hours),1)]))),128))])])):C("",!0)])]),i.value.social_links&&i.value.social_links.length>0?(t(),s("div",so,[u[3]||(u[3]=e("h3",{class:"text-lg sm:text-xl font-bold mb-4 sm:mb-6",style:{color:"var(--text-color-main)"}},"Социальные сети",-1)),e("div",oo,[(t(!0),s(z,null,L(i.value.social_links,d=>(t(),s("a",{key:d.platform,href:d.url,target:"_blank",rel:"noopener noreferrer",class:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center text-white transition-colors",style:{backgroundColor:"var(--primary-color)"}},[(t(),s("svg",lo,[d.platform==="twitter"?(t(),s("path",ao)):d.platform==="facebook"?(t(),s("path",no)):d.platform==="linkedin"?(t(),s("path",io)):d.platform==="instagram"?(t(),s("path",uo)):(t(),s("path",co))]))],8,ro))),128))])])):C("",!0)]),u[4]||(u[4]=Q('<div class="bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 shadow-lg" style="border-color:var(--border-primary);"><h3 class="text-xl sm:text-2xl font-bold mb-4 sm:mb-6" style="color:var(--text-color-main);">Напишите мне</h3><form class="space-y-4 sm:space-y-6"><div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6"><div><label class="block text-sm font-medium mb-2" style="color:var(--text-color-main);">Имя</label><input type="text" class="w-full px-3 sm:px-4 py-2 sm:py-3 border rounded-lg transition-colors text-sm sm:text-base" placeholder="Ваше имя" style="border-color:var(--border-primary);--tw-ring-color:var(--primary-color);"></div><div><label class="block text-sm font-medium mb-2" style="color:var(--text-color-main);">Телефон</label><input type="tel" class="w-full px-3 sm:px-4 py-2 sm:py-3 border rounded-lg transition-colors text-sm sm:text-base" placeholder="+7 (999) 123-45-67" style="border-color:var(--border-primary);--tw-ring-color:var(--primary-color);"></div></div><div><label class="block text-sm font-medium mb-2" style="color:var(--text-color-main);">Email</label><input type="email" class="w-full px-3 sm:px-4 py-2 sm:py-3 border rounded-lg transition-colors text-sm sm:text-base" placeholder="your@email.com" style="border-color:var(--border-primary);--tw-ring-color:var(--primary-color);"></div><div><label class="block text-sm font-medium mb-2" style="color:var(--text-color-main);">Сообщение</label><textarea rows="4" class="w-full px-3 sm:px-4 py-2 sm:py-3 border rounded-lg transition-colors text-sm sm:text-base resize-none" placeholder="Расскажите о вашем проекте..." style="border-color:var(--border-primary);--tw-ring-color:var(--primary-color);"></textarea></div><button type="submit" class="w-full px-6 sm:px-8 py-3 sm:py-4 font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 text-sm sm:text-base" style="background-color:var(--primary-color);color:var(--primary-color-contrast);"> Отправить сообщение </button></form></div>',1))]),e("div",mo,[e("div",po,[u[5]||(u[5]=e("h3",{class:"text-2xl font-bold mb-4",style:{color:"var(--text-color-main)"}},"Готовы начать?",-1)),u[6]||(u[6]=e("p",{class:"mb-6 max-w-2xl mx-auto",style:{color:"var(--text-color-light)"}}," Первая консультация бесплатно! Обсудим ваши идеи и возможности их реализации. ",-1)),e("div",vo,[i.value.contact_info?(t(),s("a",{key:0,href:`tel:${i.value.contact_info.find(d=>d.type==="phone")?.value||"+79991234567"}`,class:"px-8 py-3 rounded-lg font-medium transition-colors",style:{backgroundColor:"var(--primary-color)",color:"var(--primary-color-contrast)"}}," Позвонить сейчас ",8,go)):C("",!0),i.value.contact_info?(t(),s("a",{key:1,href:`mailto:${i.value.contact_info.find(d=>d.type==="email")?.value||"ivan.architect@email.com"}`,class:"px-8 py-3 rounded-lg font-medium border transition-colors",style:{backgroundColor:"var(--background-primary)",color:"var(--primary-color)",borderColor:"var(--primary-color)"}}," Написать письмо ",8,xo)):C("",!0)])])])]))}},ho={class:"min-h-screen text-gray-900 font-sans antialiased",style:{background:"linear-gradient(135deg, var(--background-primary), var(--primary-color-light)10, var(--background-primary))"}},yo={key:1,class:"bg-white/80 border-t border-gray-200 mt-6 sm:mt-8 md:mt-10",style:{borderColor:"var(--border-primary)"}},ge={__name:"App",setup(w){const i=K(),r=ee(()=>i.path.startsWith("/admin"));return(b,o)=>{const u=X("router-view");return t(),s("div",ho,[r.value?C("",!0):(t(),q(De,{key:0})),e("main",{class:O(["max-w-6xl mx-auto px-4 sm:px-6 pt-24 sm:pt-28 md:pt-32 pb-6 sm:pb-8 md:pb-10",{"pt-0":r.value}])},[T(u)],2),r.value?C("",!0):(t(),s("footer",yo,o[0]||(o[0]=[e("div",{class:"max-w-6xl mx-auto px-4 sm:px-6 py-4 sm:py-6 text-center text-xs sm:text-sm tracking-wide",style:{color:"var(--text-color-light)"}}," © 2025 Архитектор Иван Иванов. Все права защищены. ",-1)])))])}}},fo={class:"space-y-8 sm:space-y-12 md:space-y-16 lg:space-y-20 animate-fadein"},wo={__name:"Home",setup(w){const i={About:lt,Gallery:At,Steps:ps,Reviews:As,Contacts:bo},r=_([]),b=_(!0),o=ee(()=>r.value.filter(d=>d.visible).sort((d,g)=>d.order-g.order).map(d=>({...d,component:i[d.component]}))),u=async()=>{try{const d=await A.get("/api/components.php");d.data?r.value=d.data:r.value=[{id:"about",component:"About",visible:!0,order:1},{id:"gallery",component:"Gallery",visible:!0,order:2},{id:"steps",component:"Steps",visible:!0,order:3},{id:"reviews",component:"Reviews",visible:!0,order:4},{id:"contacts",component:"Contacts",visible:!0,order:5}]}catch(d){console.error("Ошибка загрузки компонентов:",d),r.value=[{id:"about",component:"About",visible:!0,order:1},{id:"gallery",component:"Gallery",visible:!0,order:2},{id:"steps",component:"Steps",visible:!0,order:3},{id:"reviews",component:"Reviews",visible:!0,order:4},{id:"contacts",component:"Contacts",visible:!0,order:5}]}finally{b.value=!1}};return F(()=>{u()}),(d,g)=>(t(),s("div",fo,[(t(!0),s(z,null,L(o.value,p=>(t(),q(de(p.component),{key:p.id}))),128))]))}},_o=ae(wo,[["__scopeId","data-v-4ace187e"]]),ko={key:0,class:"max-w-5xl mx-auto py-8 px-4"},$o={key:1,class:"max-w-5xl mx-auto py-8 px-4"},Co={class:"bg-white rounded-2xl shadow-lg overflow-hidden"},jo={key:0,class:"relative h-80 md:h-96 overflow-hidden"},Mo=["src","alt"],Vo={class:"absolute bottom-0 left-0 p-8 text-white"},Bo={class:"text-4xl md:text-5xl font-bold mb-4",style:{color:"var(--text-color-main)"}},zo={class:"p-8 md:p-12"},Uo={key:0,class:"mb-8"},Ho={class:"text-4xl md:text-5xl font-bold text-gray-900 mb-4"},Ao={class:"mb-8"},Lo={key:1,class:"mb-12"},Po={class:"prose prose-lg max-w-none leading-relaxed",style:{color:"var(--text-color-main)"}},So={key:2,class:"space-y-12"},Eo={key:0,class:"relative"},Io=["src","alt"],Do={key:1,class:"prose prose-lg max-w-none"},qo={class:"leading-relaxed whitespace-pre-line text-lg",style:{color:"var(--text-color-main)"}},To={key:3,class:"text-center py-16"},Ro={class:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--text-color-light)"}},Oo={class:"mt-8 flex justify-center"},Wo={key:2,class:"max-w-2xl mx-auto py-16 px-4 text-center"},No={class:"bg-white rounded-2xl shadow-lg p-12"},Fo={class:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"var(--text-color-light)"}},Go={__name:"ProjectView",setup(w){const i=K(),r=_(null),b=_(!0);return F(async()=>{try{const o=await A.get(`/api/project_full.php?id=${i.params.id}`);o.data&&o.data.id&&(r.value=o.data)}finally{b.value=!1}}),(o,u)=>{const d=X("router-link");return b.value?(t(),s("section",ko,u[0]||(u[0]=[Q('<div class="bg-white rounded-2xl shadow-lg overflow-hidden animate-pulse"><div class="h-80 bg-gradient-to-r from-gray-200 to-gray-300"></div><div class="p-8"><div class="h-10 bg-gray-200 rounded w-2/3 mb-4"></div><div class="h-6 bg-gray-100 rounded w-1/4 mb-8"></div><div class="space-y-4"><div class="h-4 bg-gray-100 rounded w-full"></div><div class="h-4 bg-gray-100 rounded w-5/6"></div><div class="h-4 bg-gray-100 rounded w-4/5"></div></div></div></div>',1)]))):r.value?(t(),s("section",$o,[e("div",Co,[r.value.image_url?(t(),s("div",jo,[e("img",{src:r.value.image_url,alt:r.value.title,class:"w-full h-full object-cover",loading:"lazy"},null,8,Mo),u[1]||(u[1]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"},null,-1)),e("div",Vo,[e("h1",Bo,v(r.value.title),1)])])):C("",!0),e("div",zo,[r.value.image_url?C("",!0):(t(),s("div",Uo,[e("h1",Ho,v(r.value.title),1)])),e("div",Ao,[T(d,{to:"/projects",class:"inline-flex items-center font-medium transition-colors group",style:{color:"var(--primary-color)"}},{default:P(()=>u[2]||(u[2]=[e("svg",{class:"w-5 h-5 mr-2 transform group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),R(" Назад к проектам ",-1)])),_:1,__:[2]})]),r.value.description?(t(),s("div",Lo,[e("div",Po,v(r.value.description),1)])):C("",!0),r.value.blocks&&r.value.blocks.length>0?(t(),s("div",So,[(t(!0),s(z,null,L(r.value.blocks,(g,p)=>(t(),s(z,{key:p},[g.type==="image"?(t(),s("div",Eo,[e("img",{src:g.content,alt:`Изображение ${p+1}`,class:"w-full rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300",loading:"lazy"},null,8,Io)])):g.type==="text"?(t(),s("div",Do,[e("div",qo,v(g.content),1)])):C("",!0)],64))),128))])):(t(),s("div",To,[(t(),s("svg",Ro,u[3]||(u[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)]))),u[4]||(u[4]=e("p",{class:"text-lg",style:{color:"var(--text-color-light)"}},"Контент проекта пока не добавлен",-1))]))])]),e("div",Oo,[T(d,{to:"/projects",class:"px-8 py-3 rounded-lg font-medium transition-colors flex items-center space-x-2 shadow-lg hover:shadow-xl",style:{backgroundColor:"var(--primary-color)",color:"var(--primary-color-contrast)"}},{default:P(()=>u[5]||(u[5]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),e("span",null,"Посмотреть другие проекты",-1)])),_:1,__:[5]})])])):(t(),s("section",Wo,[e("div",No,[(t(),s("svg",Fo,u[6]||(u[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)]))),u[8]||(u[8]=e("h2",{class:"text-2xl font-bold mb-2",style:{color:"var(--text-color-main)"}},"Проект не найден",-1)),u[9]||(u[9]=e("p",{class:"mb-6",style:{color:"var(--text-color-light)"}},"Возможно, проект был удален или ссылка неверная",-1)),T(d,{to:"/projects",class:"inline-flex items-center font-medium",style:{color:"var(--primary-color)"}},{default:P(()=>u[7]||(u[7]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),R(" Вернуться к проектам ",-1)])),_:1,__:[7]})])]))}}},J=_(null),oe=_(localStorage.getItem("admin_session_id"));function ie(){const w=ee(()=>!!J.value),i=(d,g)=>{if(!J.value)return!1;if(J.value.role==="admin")return!0;const p=J.value.permissions;return!p||!p[d]?!1:p[d][g]===!0},r=d=>{if(!J.value)return!1;if(J.value.role==="admin")return!0;const g={about:["about_content","read"],header:["header_content","read"],contacts:["contacts_content","read"],backup:["admin_backup","read"],projects:["projects","read"],users:["admin_users","read"],settings:["admin_settings","read"]},[p,c]=g[d]||[];return p?i(p,c):!1},b=async(d,g)=>{try{const p=await A.post("/api/auth.php",{action:"login",username:d,password:g});if(p.data.success)return J.value=p.data.user,oe.value=p.data.session_id,localStorage.setItem("admin_session_id",p.data.session_id),A.defaults.headers.common.Authorization=`Bearer ${p.data.session_id}`,p.data;throw new Error(p.data.error||"Ошибка входа")}catch(p){throw p.response?.data?.error?new Error(p.response.data.error):new Error("Ошибка соединения с сервером")}},o=async()=>{try{oe.value&&await A.post("/api/auth.php",{action:"logout",session_id:oe.value})}catch(d){console.error("Ошибка при выходе:",d)}finally{J.value=null,oe.value=null,localStorage.removeItem("admin_session_id"),delete A.defaults.headers.common.Authorization}},u=async()=>{const d=localStorage.getItem("admin_session_id");if(!d)return!1;try{const g=await A.post("/api/auth.php",{action:"check",session_id:d});return g.data.success?(J.value=g.data.user,oe.value=d,A.defaults.headers.common.Authorization=`Bearer ${d}`,!0):(localStorage.removeItem("admin_session_id"),!1)}catch{return localStorage.removeItem("admin_session_id"),!1}};return oe.value&&(A.defaults.headers.common.Authorization=`Bearer ${oe.value}`),{user:ee(()=>J.value),isAuthenticated:w,hasPermission:i,canViewSection:r,login:b,logout:o,checkAuth:u}}const Qo={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4"},Ko={class:"max-w-md w-full bg-white rounded-lg shadow-lg p-8"},Yo={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded"},Jo=["disabled"],Xo={key:0},Zo={key:1},er={__name:"AdminLogin",setup(w){const i=me(),r=ie(),b=_({username:"",password:""}),o=_(!1),u=_(""),d=async()=>{o.value=!0,u.value="";try{await r.login(b.value.username,b.value.password),i.push("/admin")}catch(g){u.value=g.message||"Ошибка авторизации"}finally{o.value=!1}};return(g,p)=>(t(),s("div",Qo,[e("div",Ko,[p[4]||(p[4]=e("div",{class:"text-center mb-8"},[e("h2",{class:"text-3xl font-bold text-gray-900"},"Вход в админку"),e("p",{class:"text-gray-600 mt-2"},"Управление портфолио архитектора")],-1)),e("form",{onSubmit:pe(d,["prevent"]),class:"space-y-6"},[e("div",null,[p[2]||(p[2]=e("label",{for:"username",class:"block text-sm font-medium text-gray-700 mb-2"}," Логин ",-1)),$(e("input",{id:"username","onUpdate:modelValue":p[0]||(p[0]=c=>b.value.username=c),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Введите логин"},null,512),[[U,b.value.username]])]),e("div",null,[p[3]||(p[3]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," Пароль ",-1)),$(e("input",{id:"password","onUpdate:modelValue":p[1]||(p[1]=c=>b.value.password=c),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Введите пароль"},null,512),[[U,b.value.password]])]),u.value?(t(),s("div",Yo,v(u.value),1)):C("",!0),e("button",{type:"submit",disabled:o.value,class:"w-full bg-blue-600 text-white py-3 px-4 rounded-xl hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transition-all duration-200 font-medium"},[o.value?(t(),s("span",Xo,"Вход...")):(t(),s("span",Zo,"Войти"))],8,Jo)],32)])]))}},tr={class:"min-h-screen bg-gray-50 flex flex-col lg:flex-row"},sr={class:"p-4 sm:p-6 border-b border-gray-200"},or={class:"flex items-center justify-between"},rr={class:"text-xs sm:text-sm text-gray-600"},lr={class:"mt-4 sm:mt-6"},ar={class:"flex-1 overflow-hidden lg:ml-0 flex flex-col min-h-0"},nr={class:"bg-white shadow-sm border-b border-gray-200 flex-shrink-0"},ir={class:"px-4 sm:px-6 py-4 flex justify-between items-center"},dr={class:"text-base sm:text-lg font-medium text-gray-900"},ur={class:"flex items-center space-x-2 sm:space-x-4"},cr={class:"flex-1 flex flex-col min-h-0 p-4 sm:p-6 lg:pt-6 pt-20"},mr={__name:"AdminLayout",setup(w){const i=K(),r=me(),b=ie(),o=ee(()=>b.user),u=b.canViewSection,d=_(!1),g=()=>{d.value=!d.value},p=()=>{d.value=!1},c=ee(()=>{const a={"/admin":"Панель управления","/admin/about":"Редактирование главной страницы","/admin/components":"Управление компонентами","/admin/header":"Редактирование шапки сайта","/admin/contacts":"Редактирование контактов","/admin/backup":"Резервные копии БД","/admin/projects":"Управление проектами","/admin/projects/create":"Создание проекта","/admin/projects/edit":"Редактирование проекта","/admin/users":"Управление пользователями","/admin/colors":"Цветовая палитра"};for(const[n,m]of Object.entries(a))if(i.path.startsWith(n))return m;return"Админ панель"}),l=async()=>{await b.logout(),r.push("/admin/login")};return(a,n)=>{const m=X("router-link"),f=X("router-view");return t(),s("div",tr,[e("div",{class:"lg:hidden fixed top-4 left-4 z-[60]"},[e("button",{onClick:g,class:"bg-white p-2.5 rounded-xl shadow-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 border border-gray-300 transition-all duration-200 hover:shadow-xl"},n[0]||(n[0]=[e("svg",{class:"w-6 h-6 text-gray-900",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))]),e("aside",{class:O(["fixed inset-y-0 left-0 z-[55] w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 lg:flex-shrink-0",d.value?"translate-x-0":"-translate-x-full"])},[e("div",sr,[e("div",or,[e("div",null,[n[1]||(n[1]=e("h1",{class:"text-lg sm:text-xl font-bold text-gray-900"},"Админ панель",-1)),e("p",rr,v(o.value?.full_name),1)]),e("button",{onClick:g,class:"lg:hidden p-2.5 rounded-xl hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 border border-gray-300 transition-all duration-200 bg-white shadow-sm hover:shadow-md"},n[2]||(n[2]=[e("svg",{class:"w-5 h-5 text-gray-900",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),e("nav",lr,[T(m,{to:"/admin",onClick:p,class:O(["flex items-center px-4 sm:px-6 py-2 sm:py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 border-r-3 hover:border-blue-600 transition-all duration-200 text-sm sm:text-base",{"bg-blue-50 text-blue-600 border-blue-600":a.$route.path==="/admin"}])},{default:P(()=>n[3]||(n[3]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"})],-1),e("span",{class:"truncate"},"Главная",-1)])),_:1,__:[3]},8,["class"]),N(u)("about")?(t(),q(m,{key:0,to:"/admin/about",onClick:p,class:O(["flex items-center px-4 sm:px-6 py-2 sm:py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 border-r-3 hover:border-blue-600 transition-all duration-200 text-sm sm:text-base",{"bg-blue-50 text-blue-600 border-blue-600":a.$route.path==="/admin/about"}])},{default:P(()=>n[4]||(n[4]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),e("span",{class:"truncate"},"Главная страница",-1)])),_:1,__:[4]},8,["class"])):C("",!0),N(u)("about")?(t(),q(m,{key:1,to:"/admin/components",onClick:p,class:O(["flex items-center px-4 sm:px-6 py-2 sm:py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 border-r-3 hover:border-blue-600 transition-all duration-200 text-sm sm:text-base",{"bg-blue-50 text-blue-600 border-blue-600":a.$route.path==="/admin/components"}])},{default:P(()=>n[5]||(n[5]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),e("span",{class:"truncate"},"Компоненты",-1)])),_:1,__:[5]},8,["class"])):C("",!0),N(u)("header")?(t(),q(m,{key:2,to:"/admin/header",onClick:p,class:O(["flex items-center px-4 sm:px-6 py-2 sm:py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 border-r-3 hover:border-blue-600 transition-all duration-200 text-sm sm:text-base",{"bg-blue-50 text-blue-600 border-blue-600":a.$route.path==="/admin/header"}])},{default:P(()=>n[6]||(n[6]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1),e("span",{class:"truncate"},"Шапка сайта",-1)])),_:1,__:[6]},8,["class"])):C("",!0),N(u)("contacts")?(t(),q(m,{key:3,to:"/admin/contacts",onClick:p,class:O(["flex items-center px-4 sm:px-6 py-2 sm:py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 border-r-3 hover:border-blue-600 transition-all duration-200 text-sm sm:text-base",{"bg-blue-50 text-blue-600 border-blue-600":a.$route.path==="/admin/contacts"}])},{default:P(()=>n[7]||(n[7]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),e("span",{class:"truncate"},"Контакты",-1)])),_:1,__:[7]},8,["class"])):C("",!0),N(u)("backup")?(t(),q(m,{key:4,to:"/admin/backup",onClick:p,class:O(["flex items-center px-4 sm:px-6 py-2 sm:py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 border-r-3 hover:border-blue-600 transition-all duration-200 text-sm sm:text-base",{"bg-blue-50 text-blue-600 border-blue-600":a.$route.path==="/admin/backup"}])},{default:P(()=>n[8]||(n[8]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),e("span",{class:"truncate"},"Резервные копии",-1)])),_:1,__:[8]},8,["class"])):C("",!0),N(u)("settings")?(t(),q(m,{key:5,to:"/admin/colors",onClick:p,class:O(["flex items-center px-4 sm:px-6 py-2 sm:py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 border-r-3 hover:border-blue-600 transition-all duration-200 text-sm sm:text-base",{"bg-blue-50 text-blue-600 border-blue-600":a.$route.path==="/admin/colors"}])},{default:P(()=>n[9]||(n[9]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17v4a2 2 0 002 2h4M7 17l-2.828 2.828a2 2 0 01-2.828 0L2 16.172a2 2 0 010-2.828L7 17z"})],-1),e("span",{class:"truncate"},"Цветовая палитра",-1)])),_:1,__:[9]},8,["class"])):C("",!0),N(u)("projects")?(t(),q(m,{key:6,to:"/admin/projects",onClick:p,class:O(["flex items-center px-4 sm:px-6 py-2 sm:py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 border-r-3 hover:border-blue-600 transition-all duration-200 text-sm sm:text-base",{"bg-blue-50 text-blue-600 border-blue-600":a.$route.path.startsWith("/admin/projects")}])},{default:P(()=>n[10]||(n[10]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),e("span",{class:"truncate"},"Проекты",-1)])),_:1,__:[10]},8,["class"])):C("",!0),N(u)("users")?(t(),q(m,{key:7,to:"/admin/users",onClick:p,class:O(["flex items-center px-4 sm:px-6 py-2 sm:py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 border-r-3 hover:border-blue-600 transition-all duration-200 text-sm sm:text-base",{"bg-blue-50 text-blue-600 border-blue-600":a.$route.path==="/admin/users"}])},{default:P(()=>n[11]||(n[11]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),e("span",{class:"truncate"},"Пользователи",-1)])),_:1,__:[11]},8,["class"])):C("",!0)])],2),d.value?(t(),s("div",{key:0,onClick:p,class:"fixed inset-0 bg-black bg-opacity-50 z-[50] lg:hidden"})):C("",!0),e("main",ar,[e("header",nr,[e("div",ir,[e("h2",dr,v(c.value),1),e("div",ur,[T(m,{to:"/",target:"_blank",class:"text-gray-600 hover:text-gray-900 transition-colors duration-200 p-2 rounded-md hover:bg-gray-100"},{default:P(()=>n[12]||(n[12]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)])),_:1,__:[12]}),e("button",{onClick:l,class:"text-gray-600 hover:text-gray-900 transition-colors duration-200 p-2 rounded-lg hover:bg-gray-100 bg-white border border-gray-200 shadow-sm hover:shadow-md",title:"Выйти"},n[13]||(n[13]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)]))])])]),e("div",cr,[T(f,null,{default:P(({Component:h})=>[T(be,{name:"fade",mode:"out-in"},{default:P(()=>[(t(),q(de(h),{key:a.$route.path,class:"h-full"}))]),_:2},1024)]),_:1})])])])}}},pr=ae(mr,[["__scopeId","data-v-ffa6a9a2"]]),vr={class:"space-y-6 animate-pulse"},gr={class:"bg-white rounded-lg shadow p-6"},xr={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},br={class:"space-y-6"},hr={class:"space-y-4"},yr={class:"bg-white rounded-lg shadow p-6"},fr={class:"bg-gradient-to-br from-blue-50 via-white to-blue-100 rounded-lg p-6"},wr={class:"bg-white/80 backdrop-blur shadow-md border-b border-gray-200 rounded-lg"},_r={class:"max-w-6xl mx-auto px-4 py-3 flex justify-between items-center"},kr={class:"hidden md:flex gap-8"},re={__name:"AdminSkeleton",setup(w){return(i,r)=>(t(),s("div",vr,[r[7]||(r[7]=e("div",{class:"flex justify-between items-center"},[e("div",{class:"h-8 bg-gray-200 rounded w-64"}),e("div",{class:"h-10 bg-gray-200 rounded w-40"})],-1)),e("div",gr,[e("div",xr,[r[3]||(r[3]=Q('<div class="space-y-6"><div class="h-6 bg-gray-200 rounded w-48"></div><div class="space-y-4"><div><div class="h-4 bg-gray-200 rounded w-32 mb-2"></div><div class="h-10 bg-gray-200 rounded w-full"></div><div class="h-3 bg-gray-200 rounded w-48 mt-1"></div></div><div><div class="h-4 bg-gray-200 rounded w-24 mb-2"></div><div class="h-10 bg-gray-200 rounded w-full"></div><div class="h-3 bg-gray-200 rounded w-56 mt-1"></div></div></div></div>',1)),e("div",br,[r[2]||(r[2]=e("div",{class:"h-6 bg-gray-200 rounded w-40"},null,-1)),e("div",hr,[(t(),s(z,null,L(3,b=>e("div",{key:b,class:"p-4 border border-gray-200 rounded-lg"},r[0]||(r[0]=[Q('<div class="flex items-center justify-between mb-3"><div class="h-4 bg-gray-200 rounded w-20"></div><div class="h-4 w-4 bg-gray-200 rounded"></div></div><div class="grid grid-cols-2 gap-3"><div><div class="h-3 bg-gray-200 rounded w-16 mb-1"></div><div class="h-8 bg-gray-200 rounded w-full"></div></div><div><div class="h-3 bg-gray-200 rounded w-8 mb-1"></div><div class="h-8 bg-gray-200 rounded w-full"></div></div></div><div class="mt-3"><div class="h-3 bg-gray-200 rounded w-20 mb-1"></div><div class="h-8 bg-gray-200 rounded w-full"></div></div>',3)]))),64)),r[1]||(r[1]=e("div",{class:"h-12 bg-gray-200 rounded-lg border-2 border-dashed border-gray-300"},null,-1))])])])]),e("div",yr,[r[6]||(r[6]=e("div",{class:"h-6 bg-gray-200 rounded w-48 mb-4"},null,-1)),e("div",fr,[e("div",wr,[e("div",_r,[r[4]||(r[4]=e("div",null,[e("div",{class:"h-8 bg-gray-200 rounded w-64"}),e("div",{class:"h-4 bg-gray-200 rounded w-32 mt-1"})],-1)),e("div",kr,[(t(),s(z,null,L(3,b=>e("div",{key:b,class:"h-6 bg-gray-200 rounded w-16"})),64))]),r[5]||(r[5]=e("div",{class:"md:hidden"},[e("div",{class:"h-7 w-7 bg-gray-200 rounded"})],-1))])])])])]))}},$r={class:"space-y-6"},Cr={key:0},jr={key:1},Mr={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Vr={class:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-all duration-200"},Br={class:"flex items-center"},zr={class:"ml-4"},Ur={class:"text-2xl font-bold text-gray-900"},Hr={class:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-all duration-200"},Ar={class:"flex items-center"},Lr={class:"ml-4"},Pr={class:"text-2xl font-bold text-gray-900"},Sr={class:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-all duration-200"},Er={class:"flex items-center"},Ir={class:"ml-4"},Dr={class:"text-sm font-bold text-gray-900"},qr={class:"bg-white rounded-lg shadow"},Tr={class:"p-6"},Rr={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Or={key:1,class:"bg-white rounded-lg shadow"},Wr={class:"p-6"},Nr={key:0,class:"text-center py-8"},Fr={key:1,class:"text-center py-8 text-gray-500"},Gr={key:2,class:"space-y-4"},Qr={class:"flex items-center space-x-4"},Kr=["src","alt"],Yr={key:1,class:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center"},Jr={class:"font-medium text-gray-900"},Xr={class:"text-sm text-gray-600"},Zr={class:"text-sm text-gray-500"},el={__name:"AdminDashboard",setup(w){const i=K(),r=ie();ee(()=>r.user);const b=r.canViewSection,o=_({totalProjects:0,projectsWithBlocks:0,lastUpdate:"Никогда"}),u=_([]),d=_(!0),g=a=>new Date(a).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),p=async()=>{try{console.log("Загружаем статистику...");const a=await A.get("/api/admin_projects.php?stats=true");console.log("Ответ статистики:",a.data),a.data&&(o.value={totalProjects:a.data.totalProjects||0,projectsWithBlocks:a.data.projectsWithBlocks||0,lastUpdate:a.data.lastUpdate||"Недавно"})}catch(a){console.error("Ошибка загрузки статистики:",a),a.response&&(console.error("Статус ошибки:",a.response.status),console.error("Данные ошибки:",a.response.data)),o.value={totalProjects:0,projectsWithBlocks:0,lastUpdate:"Недавно"}}},c=async()=>{try{console.log("Загружаем последние проекты...");const a=await A.get("/api/admin_projects.php?limit=3");console.log("Ответ проектов:",a.data),a.data&&a.data.projects&&(u.value=a.data.projects)}catch(a){console.error("Ошибка загрузки последних проектов:",a),a.response&&(console.error("Статус ошибки:",a.response.status),console.error("Данные ошибки:",a.response.data)),u.value=[]}},l=async()=>{console.log("Начинаем загрузку данных..."),d.value=!0;try{await Promise.all([p(),c()]),console.log("Данные загружены успешно")}catch(a){console.error("Ошибка загрузки данных:",a)}finally{d.value=!1,console.log("Загрузка завершена")}};return F(()=>{l()}),Z(()=>i.path,(a,n)=>{a==="/admin"&&a!==n&&G(()=>{l()})}),te((a,n)=>{a.path==="/admin"&&G(()=>{l()})}),(a,n)=>{const m=X("router-link");return t(),s("div",$r,[d.value?(t(),s("div",Cr,[T(re)])):(t(),s("div",jr,[n[18]||(n[18]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Добро пожаловать в админ панель"),e("p",{class:"text-gray-600"},"Управление портфолио архитектора")],-1)),N(b)("projects")?(t(),s("div",Mr,[e("div",Vr,[e("div",Br,[n[1]||(n[1]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])],-1)),e("div",zr,[n[0]||(n[0]=e("p",{class:"text-sm font-medium text-gray-600"},"Всего проектов",-1)),e("p",Ur,v(o.value.totalProjects),1)])])]),e("div",Hr,[e("div",Ar,[n[3]||(n[3]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})])],-1)),e("div",Lr,[n[2]||(n[2]=e("p",{class:"text-sm font-medium text-gray-600"},"Проектов с блоками",-1)),e("p",Pr,v(o.value.projectsWithBlocks),1)])])]),e("div",Sr,[e("div",Er,[n[5]||(n[5]=e("div",{class:"p-2 bg-purple-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Ir,[n[4]||(n[4]=e("p",{class:"text-sm font-medium text-gray-600"},"Последнее обновление",-1)),e("p",Dr,v(o.value.lastUpdate),1)])])])])):C("",!0),e("div",qr,[n[13]||(n[13]=e("div",{class:"p-6 border-b border-gray-200"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Быстрые действия")],-1)),e("div",Tr,[e("div",Rr,[N(b)("projects")?(t(),q(m,{key:0,to:"/admin/projects/create",class:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all duration-200 hover:shadow-md"},{default:P(()=>n[6]||(n[6]=[e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1),e("div",{class:"ml-4"},[e("p",{class:"font-medium text-gray-900"},"Создать проект"),e("p",{class:"text-sm text-gray-600"},"Добавить новый проект в портфолио")],-1)])),_:1,__:[6]})):C("",!0),N(b)("projects")?(t(),q(m,{key:1,to:"/admin/projects",class:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all duration-200 hover:shadow-md"},{default:P(()=>n[7]||(n[7]=[e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])],-1),e("div",{class:"ml-4"},[e("p",{class:"font-medium text-gray-900"},"Управлять проектами"),e("p",{class:"text-sm text-gray-600"},"Редактировать и удалять проекты")],-1)])),_:1,__:[7]})):C("",!0),N(b)("backup")?(t(),q(m,{key:2,to:"/admin/backup",class:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all duration-200 hover:shadow-md"},{default:P(()=>n[8]||(n[8]=[e("div",{class:"p-2 bg-purple-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),e("div",{class:"ml-4"},[e("p",{class:"font-medium text-gray-900"},"Резервные копии"),e("p",{class:"text-sm text-gray-600"},"Создать резервную копию БД")],-1)])),_:1,__:[8]})):C("",!0),N(b)("about")?(t(),q(m,{key:3,to:"/admin/about",class:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all duration-200 hover:shadow-md"},{default:P(()=>n[9]||(n[9]=[e("div",{class:"p-2 bg-yellow-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1),e("div",{class:"ml-4"},[e("p",{class:"font-medium text-gray-900"},"Редактировать главную"),e("p",{class:"text-sm text-gray-600"},"Изменить контент главной страницы")],-1)])),_:1,__:[9]})):C("",!0),N(b)("header")?(t(),q(m,{key:4,to:"/admin/header",class:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all duration-200 hover:shadow-md"},{default:P(()=>n[10]||(n[10]=[e("div",{class:"p-2 bg-indigo-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})])],-1),e("div",{class:"ml-4"},[e("p",{class:"font-medium text-gray-900"},"Редактировать шапку"),e("p",{class:"text-sm text-gray-600"},"Изменить контент шапки сайта")],-1)])),_:1,__:[10]})):C("",!0),N(b)("contacts")?(t(),q(m,{key:5,to:"/admin/contacts",class:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all duration-200 hover:shadow-md"},{default:P(()=>n[11]||(n[11]=[e("div",{class:"p-2 bg-pink-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1),e("div",{class:"ml-4"},[e("p",{class:"font-medium text-gray-900"},"Редактировать контакты"),e("p",{class:"text-sm text-gray-600"},"Изменить контактную информацию")],-1)])),_:1,__:[11]})):C("",!0),N(b)("users")?(t(),q(m,{key:6,to:"/admin/users",class:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all duration-200 hover:shadow-md"},{default:P(()=>n[12]||(n[12]=[e("div",{class:"p-2 bg-red-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1),e("div",{class:"ml-4"},[e("p",{class:"font-medium text-gray-900"},"Управление пользователями"),e("p",{class:"text-sm text-gray-600"},"Управлять пользователями админки")],-1)])),_:1,__:[12]})):C("",!0)])])]),N(b)("projects")?(t(),s("div",Or,[n[17]||(n[17]=e("div",{class:"p-6 border-b border-gray-200"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Последние проекты")],-1)),e("div",Wr,[d.value?(t(),s("div",Nr,n[14]||(n[14]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-2 text-gray-600"},"Загрузка...",-1)]))):u.value.length===0?(t(),s("div",Fr," Проекты не найдены ")):(t(),s("div",Gr,[(t(!0),s(z,null,L(u.value,f=>(t(),s("div",{key:f.id,class:"flex items-center justify-between p-4 border border-gray-200 rounded-lg"},[e("div",Qr,[f.image_url?(t(),s("img",{key:0,src:f.image_url,alt:f.title,class:"w-16 h-16 object-cover rounded-lg"},null,8,Kr)):(t(),s("div",Yr,n[15]||(n[15]=[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)]))),e("div",null,[e("h3",Jr,v(f.title),1),e("p",Xr,v(g(f.created_at)),1),e("p",Zr,v(f.blocks?.length||0)+" блоков",1)])]),T(m,{to:`/admin/projects/edit/${f.id}`,class:"text-blue-600 hover:text-blue-800"},{default:P(()=>n[16]||(n[16]=[R(" Редактировать ",-1)])),_:2,__:[16]},1032,["to"])]))),128))]))])])):C("",!0)]))])}}},tl={class:"space-y-6"},sl={class:"flex justify-between items-center"},ol={class:"bg-white rounded-lg shadow p-6"},rl={class:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0"},ll={class:"flex-1 max-w-md"},al={class:"flex items-center space-x-4"},nl={class:"bg-white rounded-lg shadow"},il={key:0,class:"p-8 text-center"},dl={key:1,class:"p-8 text-center text-gray-500"},ul={key:2},cl={class:"divide-y divide-gray-200"},ml={class:"flex items-center justify-between"},pl={class:"flex items-center space-x-4"},vl=["src","alt"],gl={key:1,class:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center"},xl={class:"flex-1"},bl={class:"text-lg font-medium text-gray-900"},hl={key:0,class:"text-gray-600 mt-1"},yl={class:"flex items-center space-x-4 mt-2 text-sm text-gray-500"},fl={class:"flex items-center space-x-2"},wl=["onClick"],_l={key:0,class:"px-6 py-4 border-t border-gray-200"},kl={class:"flex items-center justify-between"},$l={class:"text-sm text-gray-700"},Cl={class:"flex items-center space-x-2"},jl=["disabled"],Ml={class:"px-3 py-2 text-sm font-medium"},Vl=["disabled"],Bl={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},zl={class:"bg-white rounded-lg p-6 max-w-md w-full mx-4"},Ul={class:"text-gray-600 mb-6"},Hl={class:"flex justify-end space-x-4"},Al=["disabled"],Ll={__name:"AdminProjectsList",setup(w){const i=K(),r=_([]),b=_(!0),o=_(""),u=_(10),d=_(1),g=_({current_page:1,total_pages:1,total_items:0,per_page:10}),p=_(!1),c=_(null),l=_(!1);let a=null;const n=x=>new Date(x).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),m=async()=>{b.value=!0;try{const x=new URLSearchParams({page:d.value,limit:u.value});o.value.trim()&&x.append("search",o.value.trim());const y=await A.get(`/api/admin_projects.php?${x}`);r.value=y.data.projects||[],g.value=y.data.pagination||{}}catch(x){console.error("Ошибка загрузки проектов:",x),r.value=[]}finally{b.value=!1}},f=()=>{clearTimeout(a),a=setTimeout(()=>{d.value=1,m()},500)},h=x=>{x>=1&&x<=g.value.total_pages&&(d.value=x,m())},M=x=>{c.value=x,p.value=!0},D=()=>{c.value=null,p.value=!1},j=async()=>{if(c.value){l.value=!0;try{await A.delete(`/api/admin_projects.php?id=${c.value.id}`),await m(),p.value=!1,c.value=null}catch(x){console.error("Ошибка удаления проекта:",x),alert("Ошибка при удалении проекта")}finally{l.value=!1}}};return F(()=>{m()}),Z(()=>i.path,(x,y)=>{x==="/admin/projects"&&x!==y&&G(()=>{m()})}),te((x,y)=>{x.path==="/admin/projects"&&G(()=>{m()})}),(x,y)=>{const S=X("router-link");return t(),s("div",tl,[e("div",sl,[y[5]||(y[5]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Управление проектами",-1)),T(S,{to:"/admin/projects/create",class:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2"},{default:P(()=>y[4]||(y[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),e("span",null,"Создать проект",-1)])),_:1,__:[4]})]),e("div",ol,[e("div",rl,[e("div",ll,[$(e("input",{"onUpdate:modelValue":y[0]||(y[0]=H=>o.value=H),onInput:f,type:"text",placeholder:"Поиск проектов...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,544),[[U,o.value]])]),e("div",al,[$(e("select",{"onUpdate:modelValue":y[1]||(y[1]=H=>u.value=H),onChange:m,class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},y[6]||(y[6]=[e("option",{value:"10"},"10 на странице",-1),e("option",{value:"25"},"25 на странице",-1),e("option",{value:"50"},"50 на странице",-1)]),544),[[le,u.value]])])])]),e("div",nl,[b.value?(t(),s("div",il,y[7]||(y[7]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-2 text-gray-600"},"Загрузка проектов...",-1)]))):r.value.length===0?(t(),s("div",dl,[y[9]||(y[9]=e("svg",{class:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),y[10]||(y[10]=e("p",null,"Проекты не найдены",-1)),T(S,{to:"/admin/projects/create",class:"text-blue-600 hover:text-blue-800 mt-2 inline-block"},{default:P(()=>y[8]||(y[8]=[R(" Создать первый проект ",-1)])),_:1,__:[8]})])):(t(),s("div",ul,[e("div",cl,[(t(!0),s(z,null,L(r.value,H=>(t(),s("div",{key:H.id,class:"p-6 hover:bg-gray-50 transition-colors"},[e("div",ml,[e("div",pl,[H.image_url?(t(),s("img",{key:0,src:H.image_url,alt:H.title,class:"w-20 h-20 object-cover rounded-lg"},null,8,vl)):(t(),s("div",gl,y[11]||(y[11]=[e("svg",{class:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)]))),e("div",xl,[e("h3",bl,v(H.title),1),H.description?(t(),s("p",hl,v(H.description.substring(0,150))+v(H.description.length>150?"...":""),1)):C("",!0),e("div",yl,[e("span",null,v(n(H.created_at)),1),e("span",null,v(H.blocks?.length||0)+" блоков",1)])])]),e("div",fl,[T(S,{to:`/projects/${H.id}`,target:"_blank",class:"text-gray-600 hover:text-gray-900 p-2 rounded-md hover:bg-gray-100",title:"Просмотреть"},{default:P(()=>y[12]||(y[12]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])),_:2,__:[12]},1032,["to"]),T(S,{to:`/admin/projects/edit/${H.id}`,class:"text-blue-600 hover:text-blue-800 p-2 rounded-md hover:bg-blue-50",title:"Редактировать"},{default:P(()=>y[13]||(y[13]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:2,__:[13]},1032,["to"]),e("button",{onClick:V=>M(H),class:"text-white bg-red-500 hover:bg-red-600 p-2 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",title:"Удалить"},y[14]||(y[14]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,wl)])])]))),128))]),g.value.total_pages>1?(t(),s("div",_l,[e("div",kl,[e("div",$l," Показано "+v((g.value.current_page-1)*g.value.per_page+1)+" - "+v(Math.min(g.value.current_page*g.value.per_page,g.value.total_items))+" из "+v(g.value.total_items)+" проектов ",1),e("div",Cl,[e("button",{onClick:y[2]||(y[2]=H=>h(g.value.current_page-1)),disabled:g.value.current_page<=1,class:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md transition-all duration-200"}," Назад ",8,jl),e("span",Ml,v(g.value.current_page)+" из "+v(g.value.total_pages),1),e("button",{onClick:y[3]||(y[3]=H=>h(g.value.current_page+1)),disabled:g.value.current_page>=g.value.total_pages,class:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md transition-all duration-200"}," Вперед ",8,Vl)])])])):C("",!0)]))]),p.value?(t(),s("div",Bl,[e("div",zl,[y[15]||(y[15]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Подтвердите удаление",-1)),e("p",Ul,' Вы уверены, что хотите удалить проект "'+v(c.value?.title)+'"? Это действие нельзя отменить. ',1),e("div",Hl,[e("button",{onClick:D,class:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-200 font-medium"}," Отмена "),e("button",{onClick:j,disabled:l.value,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 shadow-lg hover:shadow-xl transition-all duration-200 font-medium"},v(l.value?"Удаление...":"Удалить"),9,Al)])])])):C("",!0)])}}},Pl={key:0,class:"space-y-6"},Sl={key:1,class:"space-y-6"},El={class:"flex items-center justify-between"},Il={class:"text-2xl font-bold text-gray-900"},Dl={class:"text-gray-600"},ql={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded"},Tl={class:"bg-white rounded-lg shadow p-6"},Rl={class:"grid grid-cols-1 gap-6"},Ol={key:0,class:"mt-4"},Wl=["src"],Nl={class:"bg-white rounded-lg shadow p-6"},Fl={key:0,class:"text-center py-8 text-gray-500"},Gl={key:1,class:"space-y-4"},Ql={class:"flex items-center justify-between mb-4"},Kl={class:"flex items-center space-x-4"},Yl=["onUpdate:modelValue"],Jl={class:"text-sm text-gray-500"},Xl={class:"flex items-center space-x-2"},Zl=["onClick"],ea=["onClick"],ta=["onClick"],sa={key:0},oa=["onUpdate:modelValue"],ra={key:1},la=["onUpdate:modelValue"],aa={key:0,class:"mt-4"},na=["src"],ia={class:"flex justify-end space-x-4"},da=["disabled"],xe={__name:"AdminProjectForm",setup(w){const i=K(),r=me(),b=ee(()=>!!i.params.id),o=_({title:"",description:"",image_url:"",blocks:[]}),u=_(!1),d=_(""),g=()=>{o.value.blocks.push({type:"text",content:""})},p=n=>{o.value.blocks.splice(n,1)},c=(n,m)=>{const f=n+m;if(f>=0&&f<o.value.blocks.length){const h=o.value.blocks.splice(n,1)[0];o.value.blocks.splice(f,0,h)}},l=async()=>{if(!b.value){o.value={title:"",description:"",image_url:"",blocks:[]},u.value=!1;return}u.value=!0;try{const n=await A.get(`/api/project_full.php?id=${i.params.id}`);n.data&&n.data.id?o.value={title:n.data.title||"",description:n.data.description||"",image_url:n.data.image_url||"",blocks:n.data.blocks||[]}:r.push("/admin/projects")}catch(n){console.error("Ошибка загрузки проекта:",n),r.push("/admin/projects")}finally{u.value=!1}},a=async()=>{u.value=!0,d.value="";try{const n={...o.value};b.value?(n.id=i.params.id,await A.put("/api/admin_projects.php",n)):await A.post("/api/admin_projects.php",n),r.push("/admin/projects")}catch(n){d.value=n.response?.data?.error||"Ошибка при сохранении проекта"}finally{u.value=!1}};return F(()=>{b.value&&(u.value=!0),l()}),Z(()=>i.path,(n,m)=>{n!==m&&G(()=>{l()})}),Z(()=>i.params.id,(n,m)=>{n!==m&&G(()=>{l()})}),te((n,m)=>{G(()=>{l()})}),(n,m)=>{const f=X("router-link");return u.value?(t(),s("div",Pl,m[3]||(m[3]=[Q('<div class="flex items-center justify-between"><div><div class="h-8 bg-gray-200 rounded w-64 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-48 mt-2 animate-pulse"></div></div><div class="h-8 bg-gray-200 rounded w-32 animate-pulse"></div></div><div class="bg-white rounded-lg shadow p-6"><div class="h-6 bg-gray-200 rounded w-48 mb-4 animate-pulse"></div><div class="space-y-4"><div class="h-4 bg-gray-200 rounded w-full animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-3/4 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-1/2 animate-pulse"></div></div></div>',2)]))):(t(),s("div",Sl,[e("div",El,[e("div",null,[e("h1",Il,v(b.value?"Редактирование проекта":"Создание проекта"),1),e("p",Dl,v(b.value?"Изменить данные проекта":"Добавить новый проект в портфолио"),1)]),T(f,{to:"/admin/projects",class:"text-gray-600 hover:text-gray-900 flex items-center space-x-2"},{default:P(()=>m[4]||(m[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),e("span",null,"Назад к списку",-1)])),_:1,__:[4]})]),d.value?(t(),s("div",ql,v(d.value),1)):C("",!0),e("form",{onSubmit:pe(a,["prevent"]),class:"space-y-6"},[e("div",Tl,[m[9]||(m[9]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Основная информация",-1)),e("div",Rl,[e("div",null,[m[5]||(m[5]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"}," Название проекта * ",-1)),$(e("input",{id:"title","onUpdate:modelValue":m[0]||(m[0]=h=>o.value.title=h),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Введите название проекта"},null,512),[[U,o.value.title]])]),e("div",null,[m[6]||(m[6]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"}," Описание ",-1)),$(e("textarea",{id:"description","onUpdate:modelValue":m[1]||(m[1]=h=>o.value.description=h),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Краткое описание проекта"},null,512),[[U,o.value.description]])]),e("div",null,[m[8]||(m[8]=e("label",{for:"image_url",class:"block text-sm font-medium text-gray-700 mb-2"}," URL главного изображения ",-1)),$(e("input",{id:"image_url","onUpdate:modelValue":m[2]||(m[2]=h=>o.value.image_url=h),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/image.jpg"},null,512),[[U,o.value.image_url]]),o.value.image_url?(t(),s("div",Ol,[m[7]||(m[7]=e("p",{class:"text-sm text-gray-600 mb-2"},"Предварительный просмотр:",-1)),e("img",{src:o.value.image_url,alt:"Preview",class:"w-48 h-32 object-cover rounded-lg border"},null,8,Wl)])):C("",!0)])])]),e("div",Nl,[e("div",{class:"flex items-center justify-between mb-4"},[m[11]||(m[11]=e("h2",{class:"text-lg font-medium text-gray-900"},"Содержимое проекта",-1)),e("button",{type:"button",onClick:g,class:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2"},m[10]||(m[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),e("span",null,"Добавить блок",-1)]))]),o.value.blocks.length===0?(t(),s("div",Fl,m[12]||(m[12]=[e("svg",{class:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),e("p",null,"Нет блоков содержимого",-1),e("p",{class:"text-sm"},"Добавьте изображения или текстовые блоки",-1)]))):(t(),s("div",Gl,[(t(!0),s(z,null,L(o.value.blocks,(h,M)=>(t(),s("div",{key:M,class:"border border-gray-200 rounded-lg p-4"},[e("div",Ql,[e("div",Kl,[$(e("select",{"onUpdate:modelValue":D=>h.type=D,class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},m[13]||(m[13]=[e("option",{value:"text"},"Текст",-1),e("option",{value:"image"},"Изображение",-1)]),8,Yl),[[le,h.type]]),e("span",Jl,"Блок "+v(M+1),1)]),e("div",Xl,[M>0?(t(),s("button",{key:0,type:"button",onClick:D=>c(M,-1),class:"text-gray-600 hover:text-gray-900 p-1 rounded",title:"Переместить вверх"},m[14]||(m[14]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)]),8,Zl)):C("",!0),M<o.value.blocks.length-1?(t(),s("button",{key:1,type:"button",onClick:D=>c(M,1),class:"text-gray-600 hover:text-gray-900 p-1 rounded",title:"Переместить вниз"},m[15]||(m[15]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),8,ea)):C("",!0),e("button",{type:"button",onClick:D=>p(M),class:"text-red-600 hover:text-red-800 p-1 rounded",title:"Удалить блок"},m[16]||(m[16]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,ta)])]),h.type==="text"?(t(),s("div",sa,[$(e("textarea",{"onUpdate:modelValue":D=>h.content=D,rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Введите текст блока"},null,8,oa),[[U,h.content]])])):h.type==="image"?(t(),s("div",ra,[$(e("input",{"onUpdate:modelValue":D=>h.content=D,type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"URL изображения"},null,8,la),[[U,h.content]]),h.content?(t(),s("div",aa,[e("img",{src:h.content,alt:"Preview",class:"max-w-full h-64 object-cover rounded-lg border"},null,8,na)])):C("",!0)])):C("",!0)]))),128))]))]),e("div",ia,[T(f,{to:"/admin/projects",class:"px-4 py-3 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-all duration-200 font-medium"},{default:P(()=>m[17]||(m[17]=[R(" Отмена ",-1)])),_:1,__:[17]}),e("button",{type:"submit",disabled:u.value,class:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transition-all duration-200 font-medium"},v(u.value?"Сохранение...":b.value?"Сохранить изменения":"Создать проект"),9,da)])],32)]))}}},ua={class:"space-y-6"},ca={key:0},ma={key:1},pa={class:"flex justify-between items-center"},va=["disabled"],ga={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},xa={class:"bg-white rounded-lg shadow p-6"},ba={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},ha={class:"space-y-6"},ya={class:"space-y-6"},fa={class:"space-y-3"},wa={class:"flex-1"},_a=["onUpdate:modelValue","placeholder"],ka=["onClick"],$a={class:"grid grid-cols-2 gap-4"},Ca={class:"flex items-center justify-between mb-2"},ja={class:"text-sm font-medium text-gray-700"},Ma=["onClick"],Va=["onUpdate:modelValue"],Ba=["onUpdate:modelValue"],za={class:"bg-white rounded-lg shadow p-6"},Ua={class:"bg-gradient-to-br from-blue-50 via-white to-blue-100 rounded-lg p-6"},Ha={class:"text-center mb-8"},Aa={class:"text-3xl font-bold text-gray-900 mb-2"},La={class:"text-lg text-gray-600"},Pa={class:"grid md:grid-cols-2 gap-8"},Sa={class:"space-y-4"},Ea={class:"prose prose-sm text-gray-700"},Ia={class:"whitespace-pre-line"},Da={class:"grid grid-cols-2 gap-4"},qa={class:"font-medium text-gray-900"},Ta={class:"bg-white rounded-lg p-6 shadow"},Ra={class:"grid grid-cols-2 gap-4"},Oa={class:"text-2xl font-bold text-blue-600"},Wa={class:"text-sm text-gray-600"},Na={__name:"AdminAboutEdit",setup(w){const i=K(),r=_({section_name:"hero",title:"",subtitle:"",main_text:"",advantages:[],statistics:[]}),b=_(!0),o=_(!1),u=_(""),d=async()=>{try{const n=await A.get("/api/admin_about.php");n.data?r.value=n.data:r.value={title:"Иван Иванов",subtitle:"Архитектор современности",main_text:"Опытный архитектор с более чем 10-летним стажем работы в области современной архитектуры. Специализируюсь на создании уникальных проектов, которые сочетают в себе функциональность, эстетику и инновационные решения.",advantages:[{text:"Более 50 реализованных проектов"},{text:"Современные технологии и материалы"},{text:"Индивидуальный подход к каждому клиенту"},{text:"Полный цикл проектирования"}],statistics:[{value:"50+",label:"Реализованных проектов"},{value:"10+",label:"Лет опыта"},{value:"100%",label:"Довольных клиентов"},{value:"24/7",label:"Поддержка"}]}}catch(n){console.error("Ошибка загрузки контента:",n),r.value={title:"Иван Иванов",subtitle:"Архитектор современности",main_text:"Опытный архитектор с более чем 10-летним стажем работы в области современной архитектуры. Специализируюсь на создании уникальных проектов, которые сочетают в себе функциональность, эстетику и инновационные решения.",advantages:[{text:"Более 50 реализованных проектов"},{text:"Современные технологии и материалы"},{text:"Индивидуальный подход к каждому клиенту"},{text:"Полный цикл проектирования"}],statistics:[{value:"50+",label:"Реализованных проектов"},{value:"10+",label:"Лет опыта"},{value:"100%",label:"Довольных клиентов"},{value:"24/7",label:"Поддержка"}]}}finally{b.value=!1}},g=()=>{r.value.advantages.push({text:"",icon:"check"})},p=n=>{r.value.advantages.splice(n,1)},c=()=>{r.value.statistics.push({value:"",label:""})},l=n=>{r.value.statistics.splice(n,1)},a=async()=>{o.value=!0,u.value="";try{await A.put("/api/admin_about.php",r.value),alert("Контент успешно сохранен!")}catch(n){u.value=n.response?.data?.error||"Ошибка при сохранении контента",alert(u.value)}finally{o.value=!1}};return F(()=>{d()}),Z(()=>i.path,(n,m)=>{n==="/admin/about"&&n!==m&&G(()=>{d()})}),te((n,m)=>{n.path==="/admin/about"&&G(()=>{d()})}),(n,m)=>(t(),s("div",ua,[b.value?(t(),s("div",ca,[T(re)])):(t(),s("div",ma,[e("div",pa,[m[4]||(m[4]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Редактирование главной страницы",-1)),e("button",{onClick:a,disabled:o.value,class:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-all duration-200 shadow-lg hover:shadow-xl font-medium"},[o.value?(t(),s("svg",ga,m[3]||(m[3]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):C("",!0),e("span",null,v(o.value?"Сохранение...":"Сохранить изменения"),1)],8,va)]),e("div",xa,[e("div",ba,[e("div",ha,[m[8]||(m[8]=e("h2",{class:"text-xl font-semibold text-gray-900 border-b pb-2"},"Основная информация",-1)),e("div",null,[m[5]||(m[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Имя и фамилия",-1)),$(e("input",{"onUpdate:modelValue":m[0]||(m[0]=f=>r.value.title=f),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Иван Иванов"},null,512),[[U,r.value.title]])]),e("div",null,[m[6]||(m[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Должность",-1)),$(e("input",{"onUpdate:modelValue":m[1]||(m[1]=f=>r.value.subtitle=f),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Архитектор современности"},null,512),[[U,r.value.subtitle]])]),e("div",null,[m[7]||(m[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Основной текст",-1)),$(e("textarea",{"onUpdate:modelValue":m[2]||(m[2]=f=>r.value.main_text=f),rows:"6",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Опишите ваш опыт и подход к работе..."},null,512),[[U,r.value.main_text]])])]),e("div",ya,[e("div",null,[m[10]||(m[10]=e("h2",{class:"text-xl font-semibold text-gray-900 border-b pb-2 mb-4"},"Ключевые преимущества",-1)),e("div",fa,[(t(!0),s(z,null,L(r.value.advantages,(f,h)=>(t(),s("div",{key:h,class:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg"},[e("div",wa,[$(e("input",{"onUpdate:modelValue":M=>f.text=M,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:`Преимущество ${h+1}`},null,8,_a),[[U,f.text]])]),e("button",{onClick:M=>p(h),class:"text-white bg-red-500 hover:bg-red-600 p-2 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md"},m[9]||(m[9]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,ka)]))),128)),e("button",{onClick:g,class:"w-full py-3 px-4 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-gray-400 hover:text-gray-700 transition-all duration-200 hover:bg-gray-50 font-medium bg-white"}," + Добавить преимущество ")])]),e("div",null,[m[12]||(m[12]=e("h2",{class:"text-xl font-semibold text-gray-900 border-b pb-2 mb-4"},"Статистика",-1)),e("div",$a,[(t(!0),s(z,null,L(r.value.statistics,(f,h)=>(t(),s("div",{key:h,class:"p-3 border border-gray-200 rounded-lg"},[e("div",Ca,[e("span",ja,"Статистика "+v(h+1),1),e("button",{onClick:M=>l(h),class:"text-gray-600 hover:text-gray-800 p-2 rounded-lg hover:bg-gray-100 bg-white border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200"},m[11]||(m[11]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Ma)]),$(e("input",{"onUpdate:modelValue":M=>f.value=M,type:"text",class:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 mb-2",placeholder:"50+"},null,8,Va),[[U,f.value]]),$(e("input",{"onUpdate:modelValue":M=>f.label=M,type:"text",class:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Реализованных проектов"},null,8,Ba),[[U,f.label]])]))),128))]),e("button",{onClick:c,class:"w-full mt-3 py-3 px-4 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-gray-400 hover:text-gray-700 transition-all duration-200 hover:bg-gray-50 font-medium bg-white"}," + Добавить статистику ")])])])]),e("div",za,[m[14]||(m[14]=e("h2",{class:"text-xl font-semibold text-gray-900 border-b pb-2 mb-4"},"Предварительный просмотр",-1)),e("div",Ua,[e("div",Ha,[e("h1",Aa,v(r.value.title||"Иван Иванов"),1),e("p",La,v(r.value.subtitle||"Архитектор современности"),1)]),e("div",Pa,[e("div",Sa,[e("div",Ea,[e("p",Ia,v(r.value.main_text||"Текст о себе..."),1)]),e("div",Da,[(t(!0),s(z,null,L(r.value.advantages,f=>(t(),s("div",{key:f.text,class:"flex items-center space-x-3"},[m[13]||(m[13]=e("div",{class:"w-6 h-6 bg-blue-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),e("span",qa,v(f.text||"Преимущество"),1)]))),128))])]),e("div",Ta,[e("div",Ra,[(t(!0),s(z,null,L(r.value.statistics,f=>(t(),s("div",{key:f.value,class:"text-center"},[e("div",Oa,v(f.value||"0"),1),e("div",Wa,v(f.label||"Статистика"),1)]))),128))])])])])])]))]))}},Fa={class:"space-y-6"},Ga={key:0},Qa={key:1},Ka={class:"flex justify-between items-center"},Ya=["disabled"],Ja={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Xa={class:"bg-white rounded-lg shadow p-6"},Za={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},en={class:"space-y-6"},tn={class:"space-y-6"},sn={class:"space-y-4"},on={class:"flex items-center justify-between mb-3"},rn={class:"text-sm font-medium text-gray-700"},ln=["onClick"],an={class:"grid grid-cols-2 gap-3"},nn=["onUpdate:modelValue"],dn=["onUpdate:modelValue"],un={class:"mt-3"},cn=["onUpdate:modelValue","placeholder"],mn={class:"mt-8"},pn={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},vn={class:"flex items-center justify-between mb-3"},gn={class:"text-sm font-medium text-gray-700"},xn=["onClick"],bn={class:"grid grid-cols-2 gap-3"},hn=["onUpdate:modelValue"],yn=["onUpdate:modelValue"],fn={class:"mt-8"},wn={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_n={class:"flex items-center justify-between mb-3"},kn={class:"text-sm font-medium text-gray-700"},$n=["onClick"],Cn={class:"grid grid-cols-2 gap-3"},jn=["onUpdate:modelValue"],Mn=["onUpdate:modelValue"],Vn={class:"bg-white rounded-lg shadow p-6"},Bn={class:"bg-gradient-to-br from-blue-50 via-white to-blue-100 rounded-lg p-6"},zn={class:"text-center mb-8"},Un={class:"text-3xl font-bold text-gray-900 mb-2"},Hn={class:"text-lg text-gray-600"},An={class:"grid md:grid-cols-2 gap-8"},Ln={class:"bg-white rounded-lg p-6 shadow"},Pn={class:"space-y-4"},Sn={class:"font-semibold text-gray-900"},En={class:"text-blue-600"},In={class:"bg-white rounded-lg p-6 shadow"},Dn={class:"space-y-2"},qn={class:"font-medium text-gray-900"},Tn={class:"text-gray-600"},Rn={class:"mt-6 bg-white rounded-lg p-6 shadow"},On={class:"flex space-x-4"},Wn={class:"text-xs font-bold"},Nn={__name:"AdminContactsEdit",setup(w){const i=K(),r=_({section_name:"contacts",title:"",subtitle:"",contact_info:[],social_links:[],working_hours:[]}),b=_(!0),o=_(!1),u=_(""),d=async()=>{try{const f=await A.get("/api/admin_contacts.php");f.data?r.value=f.data:r.value={title:"Свяжитесь со мной",subtitle:"Готов обсудить ваш проект и воплотить архитектурные идеи в реальность",contact_info:[{type:"email",label:"Email",value:"ivan.architect@email.com"},{type:"phone",label:"Телефон",value:"+7 (999) 123-45-67"},{type:"address",label:"Адрес",value:"г. Москва, ул. Архитектурная, 12"}],social_links:[{platform:"telegram",url:"https://t.me/ivan_architect"},{platform:"instagram",url:"https://instagram.com/ivan_architect"}],working_hours:[{days:"Пн-Пт",hours:"9:00 - 18:00"},{days:"Сб-Вс",hours:"По договоренности"}]}}catch(f){console.error("Ошибка загрузки контента:",f),r.value={title:"Свяжитесь со мной",subtitle:"Готов обсудить ваш проект и воплотить архитектурные идеи в реальность",contact_info:[{type:"email",label:"Email",value:"ivan.architect@email.com"},{type:"phone",label:"Телефон",value:"+7 (999) 123-45-67"},{type:"address",label:"Адрес",value:"г. Москва, ул. Архитектурная, 12"}],social_links:[{platform:"telegram",url:"https://t.me/ivan_architect"},{platform:"instagram",url:"https://instagram.com/ivan_architect"}],working_hours:[{days:"Пн-Пт",hours:"9:00 - 18:00"},{days:"Сб-Вс",hours:"По договоренности"}]}}finally{b.value=!1}},g=()=>{r.value.contact_info.push({type:"email",label:"",value:"",icon:"email"})},p=f=>{r.value.contact_info.splice(f,1)},c=()=>{r.value.social_links.push({platform:"twitter",url:"",icon:"twitter"})},l=f=>{r.value.social_links.splice(f,1)},a=()=>{r.value.working_hours.push({days:"",hours:""})},n=f=>{r.value.working_hours.splice(f,1)},m=async()=>{o.value=!0,u.value="";try{await A.put("/api/admin_contacts.php",r.value),alert("Контент успешно сохранен!")}catch(f){u.value=f.response?.data?.error||"Ошибка при сохранении контента",alert(u.value)}finally{o.value=!1}};return F(()=>{d()}),Z(()=>i.path,(f,h)=>{f==="/admin/contacts"&&f!==h&&G(()=>{d()})}),te((f,h)=>{f.path==="/admin/contacts"&&G(()=>{d()})}),(f,h)=>(t(),s("div",Fa,[b.value?(t(),s("div",Ga,[T(re)])):(t(),s("div",Qa,[e("div",Ka,[h[3]||(h[3]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Редактирование контактной информации",-1)),e("button",{onClick:m,disabled:o.value,class:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-all duration-200 shadow-lg hover:shadow-xl font-medium"},[o.value?(t(),s("svg",Ja,h[2]||(h[2]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):C("",!0),e("span",null,v(o.value?"Сохранение...":"Сохранить изменения"),1)],8,Ya)]),e("div",Xa,[e("div",Za,[e("div",en,[h[6]||(h[6]=e("h2",{class:"text-xl font-semibold text-gray-900 border-b pb-2"},"Основная информация",-1)),e("div",null,[h[4]||(h[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Заголовок секции",-1)),$(e("input",{"onUpdate:modelValue":h[0]||(h[0]=M=>r.value.title=M),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Свяжитесь со мной"},null,512),[[U,r.value.title]])]),e("div",null,[h[5]||(h[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Подзаголовок",-1)),$(e("input",{"onUpdate:modelValue":h[1]||(h[1]=M=>r.value.subtitle=M),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Готов обсудить ваш проект и воплотить архитектурные идеи в реальность"},null,512),[[U,r.value.subtitle]])])]),e("div",tn,[h[12]||(h[12]=e("h2",{class:"text-xl font-semibold text-gray-900 border-b pb-2"},"Контактная информация",-1)),e("div",sn,[(t(!0),s(z,null,L(r.value.contact_info,(M,D)=>(t(),s("div",{key:D,class:"p-4 border border-gray-200 rounded-lg"},[e("div",on,[e("span",rn,"Контакт "+v(D+1),1),e("button",{onClick:j=>p(D),class:"text-gray-600 hover:text-gray-800 p-2 rounded-lg hover:bg-gray-100 bg-white border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200"},h[7]||(h[7]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,ln)]),e("div",an,[e("div",null,[h[9]||(h[9]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Тип",-1)),$(e("select",{"onUpdate:modelValue":j=>M.type=j,class:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},h[8]||(h[8]=[e("option",{value:"email"},"Email",-1),e("option",{value:"phone"},"Телефон",-1),e("option",{value:"address"},"Адрес",-1)]),8,nn),[[le,M.type]])]),e("div",null,[h[10]||(h[10]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Название",-1)),$(e("input",{"onUpdate:modelValue":j=>M.label=j,type:"text",class:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Email"},null,8,dn),[[U,M.label]])])]),e("div",un,[h[11]||(h[11]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Значение",-1)),$(e("textarea",{"onUpdate:modelValue":j=>M.value=j,rows:"2",class:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:M.type==="email"?"ivan.architect@email.com":M.type==="phone"?"+7 (999) 123-45-67":"г. Москва, ул. Архитектурная, 12"},null,8,cn),[[U,M.value]])])]))),128)),e("button",{onClick:g,class:"w-full py-3 px-4 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-gray-400 hover:text-gray-700 transition-all duration-200 hover:bg-gray-50 font-medium bg-white"}," + Добавить контакт ")])])]),e("div",mn,[h[17]||(h[17]=e("h2",{class:"text-xl font-semibold text-gray-900 border-b pb-2 mb-4"},"Социальные сети",-1)),e("div",pn,[(t(!0),s(z,null,L(r.value.social_links,(M,D)=>(t(),s("div",{key:D,class:"p-4 border border-gray-200 rounded-lg"},[e("div",vn,[e("span",gn,"Соцсеть "+v(D+1),1),e("button",{onClick:j=>l(D),class:"text-gray-600 hover:text-gray-800 p-2 rounded-lg hover:bg-gray-100 bg-white border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200"},h[13]||(h[13]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,xn)]),e("div",bn,[e("div",null,[h[15]||(h[15]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Платформа",-1)),$(e("select",{"onUpdate:modelValue":j=>M.platform=j,class:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},h[14]||(h[14]=[Q('<option value="twitter">Twitter</option><option value="facebook">Facebook</option><option value="linkedin">LinkedIn</option><option value="instagram">Instagram</option><option value="youtube">YouTube</option><option value="telegram">Telegram</option>',6)]),8,hn),[[le,M.platform]])]),e("div",null,[h[16]||(h[16]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"URL",-1)),$(e("input",{"onUpdate:modelValue":j=>M.url=j,type:"url",class:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://..."},null,8,yn),[[U,M.url]])])])]))),128))]),e("button",{onClick:c,class:"w-full mt-4 py-3 px-4 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-gray-400 hover:text-gray-700 transition-all duration-200 hover:bg-gray-50 font-medium bg-white"}," + Добавить социальную сеть ")]),e("div",fn,[h[21]||(h[21]=e("h2",{class:"text-xl font-semibold text-gray-900 border-b pb-2 mb-4"},"Время работы",-1)),e("div",wn,[(t(!0),s(z,null,L(r.value.working_hours,(M,D)=>(t(),s("div",{key:D,class:"p-4 border border-gray-200 rounded-lg"},[e("div",_n,[e("span",kn,"Время работы "+v(D+1),1),e("button",{onClick:j=>n(D),class:"text-gray-600 hover:text-gray-800 p-2 rounded-lg hover:bg-gray-100 bg-white border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200"},h[18]||(h[18]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,$n)]),e("div",Cn,[e("div",null,[h[19]||(h[19]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Дни",-1)),$(e("input",{"onUpdate:modelValue":j=>M.days=j,type:"text",class:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Пн-Пт"},null,8,jn),[[U,M.days]])]),e("div",null,[h[20]||(h[20]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Часы",-1)),$(e("input",{"onUpdate:modelValue":j=>M.hours=j,type:"text",class:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"9:00 - 18:00"},null,8,Mn),[[U,M.hours]])])])]))),128))]),e("button",{onClick:a,class:"w-full mt-4 py-3 px-4 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-gray-400 hover:text-gray-700 transition-all duration-200 hover:bg-gray-50 font-medium bg-white"}," + Добавить время работы ")])]),e("div",Vn,[h[26]||(h[26]=e("h2",{class:"text-xl font-semibold text-gray-900 border-b pb-2 mb-4"},"Предварительный просмотр",-1)),e("div",Bn,[e("div",zn,[e("h1",Un,v(r.value.title||"Свяжитесь со мной"),1),e("p",Hn,v(r.value.subtitle||"Готов обсудить ваш проект..."),1)]),e("div",An,[e("div",Ln,[h[23]||(h[23]=e("h3",{class:"text-xl font-bold text-gray-900 mb-4"},"Контактная информация",-1)),e("div",Pn,[(t(!0),s(z,null,L(r.value.contact_info,M=>(t(),s("div",{key:M.type,class:"flex items-start space-x-3"},[h[22]||(h[22]=e("div",{class:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0"},[e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),e("div",null,[e("h4",Sn,v(M.label||"Контакт"),1),e("p",En,v(M.value||"Значение"),1)])]))),128))])]),e("div",In,[h[24]||(h[24]=e("h3",{class:"text-xl font-bold text-gray-900 mb-4"},"Время работы",-1)),e("div",Dn,[(t(!0),s(z,null,L(r.value.working_hours,M=>(t(),s("div",{key:M.days,class:"flex justify-between"},[e("span",qn,v(M.days||"Дни"),1),e("span",Tn,v(M.hours||"Часы"),1)]))),128))])])]),e("div",Rn,[h[25]||(h[25]=e("h3",{class:"text-xl font-bold text-gray-900 mb-4"},"Социальные сети",-1)),e("div",On,[(t(!0),s(z,null,L(r.value.social_links,M=>(t(),s("div",{key:M.platform,class:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center text-white"},[e("span",Wn,v(M.platform||"SOC"),1)]))),128))])])])])]))]))}},Fn={class:"space-y-6"},Gn={key:0},Qn={key:1},Kn={class:"flex justify-between items-center"},Yn=["disabled"],Jn={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Xn={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Zn={class:"bg-white rounded-lg shadow"},ei={class:"p-6"},ti={key:0,class:"text-center py-8"},si={key:1,class:"text-center py-8 text-gray-500"},oi={key:2,class:"space-y-4"},ri={class:"flex items-center space-x-4"},li={class:"font-medium text-gray-900"},ai={class:"flex items-center space-x-4 text-sm text-gray-600"},ni={class:"flex items-center"},ii={class:"flex items-center space-x-2"},di=["href"],ui={key:2,class:"bg-green-50 border border-green-200 rounded-lg p-4"},ci={class:"flex items-center"},mi={class:"text-sm text-green-700"},pi={__name:"AdminBackup",setup(w){const i=K(),r=_([]),b=_(!1),o=_(!0),u=_(""),d=async()=>{o.value=!0;try{const p=await A.get("/api/admin_backup.php");p.data&&p.data.backups?r.value=p.data.backups:r.value=[]}catch(p){console.error("Ошибка загрузки резервных копий:",p),r.value=[]}finally{o.value=!1}},g=async()=>{b.value=!0,u.value="";try{const p=await A.post("/api/admin_backup.php");if(p.data.success)u.value=`Резервная копия "${p.data.filename}" успешно создана (${p.data.file_size})`,await d();else throw new Error(p.data.error||"Ошибка создания резервной копии")}catch(p){console.error("Ошибка создания резервной копии:",p),u.value=`Ошибка: ${p.response?.data?.error||p.message}`}finally{b.value=!1}};return F(()=>{d()}),Z(()=>i.path,(p,c)=>{p==="/admin/backup"&&p!==c&&G(()=>{d()})}),te((p,c)=>{p.path==="/admin/backup"&&G(()=>{d()})}),(p,c)=>(t(),s("div",Fn,[o.value?(t(),s("div",Gn,[T(re)])):(t(),s("div",Qn,[e("div",Kn,[c[2]||(c[2]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Резервные копии базы данных",-1)),e("button",{onClick:g,disabled:b.value,class:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-all duration-200 shadow-lg hover:shadow-xl font-medium"},[b.value?(t(),s("svg",Jn,c[0]||(c[0]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(t(),s("svg",Xn,c[1]||(c[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)]))),e("span",null,v(b.value?"Создание...":"Создать резервную копию"),1)],8,Yn)]),c[9]||(c[9]=Q('<div class="bg-blue-50 border border-blue-200 rounded-lg p-4"><div class="flex items-start"><svg class="w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><h3 class="text-sm font-medium text-blue-800">Информация о резервных копиях</h3><div class="mt-2 text-sm text-blue-700"><p>• Резервные копии создаются в формате SQL и содержат полную структуру и данные базы данных</p><p>• Файлы сохраняются в папке <code class="bg-blue-100 px-1 rounded">public/backups/</code></p><p>• Рекомендуется создавать резервные копии перед крупными изменениями</p><p>• Файлы можно скачать и использовать для восстановления данных</p></div></div></div></div>',1)),e("div",Zn,[c[8]||(c[8]=e("div",{class:"p-6 border-b border-gray-200"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Список резервных копий")],-1)),e("div",ei,[o.value?(t(),s("div",ti,c[3]||(c[3]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-2 text-gray-600"},"Загрузка резервных копий...",-1)]))):r.value.length===0?(t(),s("div",si,c[4]||(c[4]=[e("svg",{class:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),e("p",{class:"text-lg font-medium text-gray-900 mb-2"},"Резервные копии не найдены",-1),e("p",{class:"text-gray-600"},"Создайте первую резервную копию базы данных",-1)]))):(t(),s("div",oi,[(t(!0),s(z,null,L(r.value,l=>(t(),s("div",{key:l.filename,class:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},[e("div",ri,[c[6]||(c[6]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",null,[e("h3",li,v(l.filename),1),e("div",ai,[e("span",null,v(l.created_at),1),e("span",ni,[c[5]||(c[5]=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})],-1)),R(" "+v(l.file_size),1)])])])]),e("div",ii,[e("a",{href:l.download_url,class:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},c[7]||(c[7]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),R(" Скачать ",-1)]),8,di)])]))),128))]))])])])),u.value?(t(),s("div",ui,[e("div",ci,[c[11]||(c[11]=e("svg",{class:"w-5 h-5 text-green-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[c[10]||(c[10]=e("h3",{class:"text-sm font-medium text-green-800"},"Успешно!",-1)),e("p",mi,v(u.value),1)])])])):C("",!0)]))}},vi={class:"space-y-6"},gi={key:0},xi={key:1},bi={class:"flex justify-between items-center"},hi=["disabled"],yi={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},fi={class:"bg-white rounded-lg shadow p-6"},wi={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},_i={class:"space-y-6"},ki={class:"space-y-6"},$i={class:"space-y-4"},Ci={class:"flex items-center justify-between mb-3"},ji={class:"text-sm font-medium text-gray-700"},Mi=["onClick"],Vi={class:"grid grid-cols-2 gap-3"},Bi=["onUpdate:modelValue"],zi=["onUpdate:modelValue"],Ui={class:"mt-3"},Hi=["onUpdate:modelValue"],Ai={class:"bg-white rounded-lg shadow p-6"},Li={class:"bg-gradient-to-br from-blue-50 via-white to-blue-100 rounded-lg p-6"},Pi={class:"bg-white/80 backdrop-blur shadow-md border-b border-gray-200 rounded-lg"},Si={class:"max-w-6xl mx-auto px-4 py-3 flex justify-between items-center"},Ei={class:"text-2xl md:text-3xl font-extrabold tracking-tight text-blue-700 drop-shadow-sm"},Ii={key:0,class:"text-sm text-gray-600 mt-1"},Di={class:"hidden md:flex gap-8 text-lg font-medium"},qi=["href"],Ti={__name:"AdminHeaderEdit",setup(w){const i=K(),r=_({section_name:"header",title:"",subtitle:"",navigation_links:[]}),b=_(!0),o=_(!1),u=_(""),d=async()=>{try{const l=await A.get("/api/admin_header.php");l.data?r.value=l.data:r.value={title:"Архитектор Иван Иванов",subtitle:"Современная архитектура",navigation_links:[{text:"Обо мне",url:"/",type:"router-link"},{text:"Проекты",url:"/projects",type:"router-link"},{text:"Контакты",url:"#contacts",type:"anchor"}]}}catch(l){console.error("Ошибка загрузки контента:",l),r.value={title:"Архитектор Иван Иванов",subtitle:"Современная архитектура",navigation_links:[{text:"Обо мне",url:"/",type:"router-link"},{text:"Проекты",url:"/projects",type:"router-link"},{text:"Контакты",url:"#contacts",type:"anchor"}]}}finally{b.value=!1}},g=()=>{r.value.navigation_links.push({text:"",url:"",type:"router-link"})},p=l=>{r.value.navigation_links.splice(l,1)},c=async()=>{o.value=!0,u.value="";try{await A.put("/api/admin_header.php",r.value),alert("Контент шапки успешно сохранен!")}catch(l){u.value=l.response?.data?.error||"Ошибка при сохранении контента",alert(u.value)}finally{o.value=!1}};return F(()=>{d()}),Z(()=>i.path,(l,a)=>{l==="/admin/header"&&l!==a&&G(()=>{d()})}),te((l,a)=>{l.path==="/admin/header"&&G(()=>{d()})}),(l,a)=>(t(),s("div",vi,[b.value?(t(),s("div",gi,[T(re)])):(t(),s("div",xi,[e("div",bi,[a[3]||(a[3]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Редактирование шапки сайта",-1)),e("button",{onClick:c,disabled:o.value,class:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-all duration-200 shadow-lg hover:shadow-xl font-medium"},[o.value?(t(),s("svg",yi,a[2]||(a[2]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):C("",!0),e("span",null,v(o.value?"Сохранение...":"Сохранить изменения"),1)],8,hi)]),e("div",fi,[e("div",wi,[e("div",_i,[a[8]||(a[8]=e("h2",{class:"text-xl font-semibold text-gray-900 border-b pb-2"},"Основная информация",-1)),e("div",null,[a[4]||(a[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Заголовок шапки",-1)),$(e("input",{"onUpdate:modelValue":a[0]||(a[0]=n=>r.value.title=n),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Архитектор Иван Иванов"},null,512),[[U,r.value.title]]),a[5]||(a[5]=e("p",{class:"text-sm text-gray-500 mt-1"},"Основной заголовок, отображаемый в шапке",-1))]),e("div",null,[a[6]||(a[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Подзаголовок",-1)),$(e("input",{"onUpdate:modelValue":a[1]||(a[1]=n=>r.value.subtitle=n),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Современная архитектура"},null,512),[[U,r.value.subtitle]]),a[7]||(a[7]=e("p",{class:"text-sm text-gray-500 mt-1"},"Дополнительный текст под заголовком (опционально)",-1))])]),e("div",ki,[a[14]||(a[14]=e("h2",{class:"text-xl font-semibold text-gray-900 border-b pb-2"},"Навигационные ссылки",-1)),e("div",$i,[(t(!0),s(z,null,L(r.value.navigation_links,(n,m)=>(t(),s("div",{key:m,class:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-all duration-200"},[e("div",Ci,[e("span",ji,"Ссылка "+v(m+1),1),e("button",{onClick:f=>p(m),class:"text-gray-600 hover:text-gray-800 p-2 rounded-lg hover:bg-gray-100 bg-white border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200"},a[9]||(a[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Mi)]),e("div",Vi,[e("div",null,[a[10]||(a[10]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Текст ссылки",-1)),$(e("input",{"onUpdate:modelValue":f=>n.text=f,type:"text",class:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Обо мне"},null,8,Bi),[[U,n.text]])]),e("div",null,[a[11]||(a[11]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"URL",-1)),$(e("input",{"onUpdate:modelValue":f=>n.url=f,type:"text",class:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"/"},null,8,zi),[[U,n.url]])])]),e("div",Ui,[a[13]||(a[13]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Тип ссылки",-1)),$(e("select",{"onUpdate:modelValue":f=>n.type=f,class:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"},a[12]||(a[12]=[e("option",{value:"router-link"},"Внутренняя ссылка (Vue Router)",-1),e("option",{value:"anchor"},"Якорная ссылка (#)",-1),e("option",{value:"external"},"Внешняя ссылка",-1)]),8,Hi),[[le,n.type]])])]))),128)),e("button",{onClick:g,class:"w-full py-3 px-4 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-gray-400 hover:text-gray-700 transition-all duration-200 hover:bg-gray-50 font-medium bg-white"}," + Добавить ссылку ")])])])]),e("div",Ai,[a[16]||(a[16]=e("h2",{class:"text-xl font-semibold text-gray-900 border-b pb-2 mb-4"},"Предварительный просмотр",-1)),e("div",Li,[e("header",Pi,[e("div",Si,[e("div",null,[e("h1",Ei,v(r.value.title||"Архитектор Иван Иванов"),1),r.value.subtitle?(t(),s("p",Ii,v(r.value.subtitle),1)):C("",!0)]),e("nav",Di,[(t(!0),s(z,null,L(r.value.navigation_links,n=>(t(),s("a",{key:n.text,href:n.url,class:"transition text-gray-700 hover:text-blue-600 hover:underline underline-offset-8"},v(n.text||"Ссылка"),9,qi))),128))]),a[15]||(a[15]=e("div",{class:"md:hidden"},[e("button",{class:"p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"},[e("svg",{class:"w-7 h-7 text-blue-700",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M4 6h16M4 12h16M4 18h16"})])])],-1))])])])])]))]))}},Ri={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Oi={class:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"},Wi={class:"flex justify-between items-center mb-6"},Ni={class:"text-lg font-medium text-gray-900"},Fi={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Gi={for:"password",class:"block text-sm font-medium text-gray-700 mb-2"},Qi=["required","placeholder"],Ki={class:"flex items-center"},Yi={class:"border-t border-gray-200 pt-6"},Ji={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Xi={class:"bg-gray-50 p-4 rounded-lg"},Zi={class:"space-y-2"},ed={class:"flex items-center"},td={class:"flex items-center"},sd={class:"flex items-center"},od={class:"flex items-center"},rd={class:"bg-gray-50 p-4 rounded-lg"},ld={class:"space-y-2"},ad={class:"flex items-center"},nd={class:"flex items-center"},id={class:"bg-gray-50 p-4 rounded-lg"},dd={class:"space-y-2"},ud={class:"flex items-center"},cd={class:"flex items-center"},md={class:"bg-gray-50 p-4 rounded-lg"},pd={class:"space-y-2"},vd={class:"flex items-center"},gd={class:"flex items-center"},xd={class:"bg-gray-50 p-4 rounded-lg"},bd={class:"space-y-2"},hd={class:"flex items-center"},yd={class:"flex items-center"},fd={class:"flex items-center"},wd={class:"flex items-center"},_d={class:"bg-gray-50 p-4 rounded-lg"},kd={class:"space-y-2"},$d={class:"flex items-center"},Cd={class:"flex items-center"},jd={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded"},Md={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200"},Vd=["disabled"],Bd={__name:"AdminUserForm",props:{user:{type:Object,default:null},mode:{type:String,required:!0,validator:w=>["create","edit"].includes(w)}},emits:["close","saved"],setup(w,{emit:i}){const r=w,b=i,o=_({username:"",email:"",password:"",full_name:"",role:"editor",is_active:!0,permissions:{projects:{read:!1,create:!1,update:!1,delete:!1},about_content:{read:!1,update:!1},header_content:{read:!1,update:!1},contacts_content:{read:!1,update:!1},admin_users:{read:!1,create:!1,update:!1,delete:!1},admin_backup:{read:!1,create:!1}}}),u=_(!1),d=_(""),g=()=>{r.mode==="edit"&&r.user?o.value={id:r.user.id,username:r.user.username||"",email:r.user.email||"",password:"",full_name:r.user.full_name||"",role:r.user.role||"editor",is_active:r.user.is_active!==void 0?r.user.is_active:!0,permissions:{projects:{read:r.user.permissions?.projects?.read||!1,create:r.user.permissions?.projects?.create||!1,update:r.user.permissions?.projects?.update||!1,delete:r.user.permissions?.projects?.delete||!1},about_content:{read:r.user.permissions?.about_content?.read||!1,update:r.user.permissions?.about_content?.update||!1},header_content:{read:r.user.permissions?.header_content?.read||!1,update:r.user.permissions?.header_content?.update||!1},contacts_content:{read:r.user.permissions?.contacts_content?.read||!1,update:r.user.permissions?.contacts_content?.update||!1},admin_users:{read:r.user.permissions?.admin_users?.read||!1,create:r.user.permissions?.admin_users?.create||!1,update:r.user.permissions?.admin_users?.update||!1,delete:r.user.permissions?.admin_users?.delete||!1},admin_backup:{read:r.user.permissions?.admin_backup?.read||!1,create:r.user.permissions?.admin_backup?.create||!1}}}:o.value={username:"",email:"",password:"",full_name:"",role:"editor",is_active:!0,permissions:{projects:{read:!1,create:!1,update:!1,delete:!1},about_content:{read:!1,update:!1},header_content:{read:!1,update:!1},contacts_content:{read:!1,update:!1},admin_users:{read:!1,create:!1,update:!1,delete:!1},admin_backup:{read:!1,create:!1}}}},p=async()=>{u.value=!0,d.value="";try{const c={...o.value,permissions:o.value.permissions};if(r.mode==="create"){const l=await A.post("/api/admin_users.php",c);l.data.success?b("saved",l.data.user):d.value=l.data.error||"Ошибка при создании пользователя"}else{const l=await A.put("/api/admin_users.php",c);l.data.success?b("saved",l.data.user):d.value=l.data.error||"Ошибка при обновлении пользователя"}}catch(c){d.value=c.response?.data?.error||"Произошла ошибка при сохранении"}finally{u.value=!1}};return F(()=>{g()}),Z(()=>r.user,()=>{g()},{immediate:!0}),(c,l)=>(t(),s("div",Ri,[e("div",Oi,[e("div",Wi,[e("h3",Ni,v(w.mode==="create"?"Создать пользователя":"Редактировать пользователя"),1),e("button",{onClick:l[0]||(l[0]=a=>c.$emit("close")),class:"text-gray-400 hover:text-gray-600"},l[24]||(l[24]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("form",{onSubmit:pe(p,["prevent"]),class:"space-y-6"},[e("div",Fi,[e("div",null,[l[25]||(l[25]=e("label",{for:"username",class:"block text-sm font-medium text-gray-700 mb-2"}," Логин * ",-1)),$(e("input",{id:"username","onUpdate:modelValue":l[1]||(l[1]=a=>o.value.username=a),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Введите логин"},null,512),[[U,o.value.username]])]),e("div",null,[l[26]||(l[26]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Email * ",-1)),$(e("input",{id:"email","onUpdate:modelValue":l[2]||(l[2]=a=>o.value.email=a),type:"email",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Введите email"},null,512),[[U,o.value.email]])]),e("div",null,[l[27]||(l[27]=e("label",{for:"full_name",class:"block text-sm font-medium text-gray-700 mb-2"}," Полное имя * ",-1)),$(e("input",{id:"full_name","onUpdate:modelValue":l[3]||(l[3]=a=>o.value.full_name=a),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Введите полное имя"},null,512),[[U,o.value.full_name]])]),e("div",null,[e("label",Gi," Пароль "+v(w.mode==="edit"?"(оставьте пустым, чтобы не изменять)":"*"),1),$(e("input",{id:"password","onUpdate:modelValue":l[4]||(l[4]=a=>o.value.password=a),type:"password",required:w.mode==="create",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:w.mode==="create"?"Введите пароль":"Введите новый пароль"},null,8,Qi),[[U,o.value.password]])]),e("div",null,[l[29]||(l[29]=e("label",{for:"role",class:"block text-sm font-medium text-gray-700 mb-2"}," Роль ",-1)),$(e("select",{id:"role","onUpdate:modelValue":l[5]||(l[5]=a=>o.value.role=a),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},l[28]||(l[28]=[e("option",{value:"editor"},"Редактор",-1),e("option",{value:"admin"},"Администратор",-1)]),512),[[le,o.value.role]])]),e("div",null,[l[31]||(l[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Статус ",-1)),e("div",Ki,[$(e("input",{id:"is_active","onUpdate:modelValue":l[6]||(l[6]=a=>o.value.is_active=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.is_active]]),l[30]||(l[30]=e("label",{for:"is_active",class:"ml-2 block text-sm text-gray-900"}," Активен ",-1))])])]),e("div",Yi,[l[54]||(l[54]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Права доступа",-1)),e("div",Ji,[e("div",Xi,[l[36]||(l[36]=e("h5",{class:"font-medium text-gray-900 mb-3"},"Проекты",-1)),e("div",Zi,[e("label",ed,[$(e("input",{"onUpdate:modelValue":l[7]||(l[7]=a=>o.value.permissions.projects.read=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.projects.read]]),l[32]||(l[32]=e("span",{class:"ml-2 text-sm text-gray-700"},"Просмотр",-1))]),e("label",td,[$(e("input",{"onUpdate:modelValue":l[8]||(l[8]=a=>o.value.permissions.projects.create=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.projects.create]]),l[33]||(l[33]=e("span",{class:"ml-2 text-sm text-gray-700"},"Создание",-1))]),e("label",sd,[$(e("input",{"onUpdate:modelValue":l[9]||(l[9]=a=>o.value.permissions.projects.update=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.projects.update]]),l[34]||(l[34]=e("span",{class:"ml-2 text-sm text-gray-700"},"Редактирование",-1))]),e("label",od,[$(e("input",{"onUpdate:modelValue":l[10]||(l[10]=a=>o.value.permissions.projects.delete=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.projects.delete]]),l[35]||(l[35]=e("span",{class:"ml-2 text-sm text-gray-700"},"Удаление",-1))])])]),e("div",rd,[l[39]||(l[39]=e("h5",{class:"font-medium text-gray-900 mb-3"},"Главная страница",-1)),e("div",ld,[e("label",ad,[$(e("input",{"onUpdate:modelValue":l[11]||(l[11]=a=>o.value.permissions.about_content.read=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.about_content.read]]),l[37]||(l[37]=e("span",{class:"ml-2 text-sm text-gray-700"},"Просмотр",-1))]),e("label",nd,[$(e("input",{"onUpdate:modelValue":l[12]||(l[12]=a=>o.value.permissions.about_content.update=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.about_content.update]]),l[38]||(l[38]=e("span",{class:"ml-2 text-sm text-gray-700"},"Редактирование",-1))])])]),e("div",id,[l[42]||(l[42]=e("h5",{class:"font-medium text-gray-900 mb-3"},"Шапка сайта",-1)),e("div",dd,[e("label",ud,[$(e("input",{"onUpdate:modelValue":l[13]||(l[13]=a=>o.value.permissions.header_content.read=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.header_content.read]]),l[40]||(l[40]=e("span",{class:"ml-2 text-sm text-gray-700"},"Просмотр",-1))]),e("label",cd,[$(e("input",{"onUpdate:modelValue":l[14]||(l[14]=a=>o.value.permissions.header_content.update=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.header_content.update]]),l[41]||(l[41]=e("span",{class:"ml-2 text-sm text-gray-700"},"Редактирование",-1))])])]),e("div",md,[l[45]||(l[45]=e("h5",{class:"font-medium text-gray-900 mb-3"},"Контакты",-1)),e("div",pd,[e("label",vd,[$(e("input",{"onUpdate:modelValue":l[15]||(l[15]=a=>o.value.permissions.contacts_content.read=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.contacts_content.read]]),l[43]||(l[43]=e("span",{class:"ml-2 text-sm text-gray-700"},"Просмотр",-1))]),e("label",gd,[$(e("input",{"onUpdate:modelValue":l[16]||(l[16]=a=>o.value.permissions.contacts_content.update=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.contacts_content.update]]),l[44]||(l[44]=e("span",{class:"ml-2 text-sm text-gray-700"},"Редактирование",-1))])])]),e("div",xd,[l[50]||(l[50]=e("h5",{class:"font-medium text-gray-900 mb-3"},"Пользователи",-1)),e("div",bd,[e("label",hd,[$(e("input",{"onUpdate:modelValue":l[17]||(l[17]=a=>o.value.permissions.admin_users.read=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.admin_users.read]]),l[46]||(l[46]=e("span",{class:"ml-2 text-sm text-gray-700"},"Просмотр",-1))]),e("label",yd,[$(e("input",{"onUpdate:modelValue":l[18]||(l[18]=a=>o.value.permissions.admin_users.create=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.admin_users.create]]),l[47]||(l[47]=e("span",{class:"ml-2 text-sm text-gray-700"},"Создание",-1))]),e("label",fd,[$(e("input",{"onUpdate:modelValue":l[19]||(l[19]=a=>o.value.permissions.admin_users.update=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.admin_users.update]]),l[48]||(l[48]=e("span",{class:"ml-2 text-sm text-gray-700"},"Редактирование",-1))]),e("label",wd,[$(e("input",{"onUpdate:modelValue":l[20]||(l[20]=a=>o.value.permissions.admin_users.delete=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.admin_users.delete]]),l[49]||(l[49]=e("span",{class:"ml-2 text-sm text-gray-700"},"Удаление",-1))])])]),e("div",_d,[l[53]||(l[53]=e("h5",{class:"font-medium text-gray-900 mb-3"},"Резервные копии",-1)),e("div",kd,[e("label",$d,[$(e("input",{"onUpdate:modelValue":l[21]||(l[21]=a=>o.value.permissions.admin_backup.read=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.admin_backup.read]]),l[51]||(l[51]=e("span",{class:"ml-2 text-sm text-gray-700"},"Просмотр",-1))]),e("label",Cd,[$(e("input",{"onUpdate:modelValue":l[22]||(l[22]=a=>o.value.permissions.admin_backup.create=a),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[W,o.value.permissions.admin_backup.create]]),l[52]||(l[52]=e("span",{class:"ml-2 text-sm text-gray-700"},"Создание",-1))])])])])]),d.value?(t(),s("div",jd,v(d.value),1)):C("",!0),e("div",Md,[e("button",{type:"button",onClick:l[23]||(l[23]=a=>c.$emit("close")),class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-200 font-medium"}," Отмена "),e("button",{type:"submit",disabled:u.value,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transition-all duration-200 font-medium"},v(u.value?"Сохранение...":w.mode==="create"?"Создать":"Сохранить"),9,Vd)])],32)])]))}},zd={class:"h-full flex flex-col space-y-3"},Ud={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3"},Hd={class:"bg-white p-3 rounded-lg shadow"},Ad={class:"bg-white rounded-lg shadow flex-1 flex flex-col min-h-0"},Ld={key:0,class:"flex-1 flex items-center justify-center p-6"},Pd={key:1,class:"flex-1 flex flex-col items-center justify-center p-6 text-gray-500"},Sd={key:2,class:"flex-1 flex flex-col min-h-0"},Ed={class:"overflow-x-auto flex-1"},Id={class:"min-w-full divide-y divide-gray-200"},Dd={class:"bg-white divide-y divide-gray-200"},qd={class:"px-3 sm:px-4 py-3"},Td={class:"flex items-center"},Rd={class:"flex-shrink-0 h-8 w-8 sm:h-10 sm:w-10"},Od={class:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-blue-500 flex items-center justify-center"},Wd={class:"text-white font-medium text-sm sm:text-base"},Nd={class:"ml-3 sm:ml-4 min-w-0 flex-1"},Fd={class:"text-sm font-medium text-gray-900 truncate"},Gd={class:"text-xs sm:text-sm text-gray-500 truncate"},Qd={class:"text-xs text-gray-400"},Kd={class:"sm:hidden mt-1"},Yd={class:"px-2 sm:px-4 py-3 hidden sm:table-cell"},Jd={class:"px-2 sm:px-4 py-3 hidden sm:table-cell"},Xd={class:"px-2 sm:px-4 py-3 text-sm text-gray-500 hidden lg:table-cell"},Zd={class:"px-3 sm:px-4 py-3 text-sm font-medium"},e0={class:"flex flex-col sm:flex-row gap-1 sm:gap-1"},t0=["onClick"],s0=["onClick"],o0={key:0,class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 rounded-lg shadow"},r0={class:"flex-1 flex justify-between sm:hidden"},l0=["disabled"],a0=["disabled"],n0={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},i0={class:"text-sm text-gray-700"},d0={class:"font-medium"},u0={class:"font-medium"},c0={class:"font-medium"},m0={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},p0=["onClick"],v0={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},g0={class:"bg-white rounded-lg p-4 sm:p-6 max-w-md w-full mx-4"},x0={class:"text-gray-600 mb-6 text-sm sm:text-base"},b0={class:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3 sm:space-x-3"},h0={__name:"AdminUsersList",setup(w){const i=K(),r=ie(),b=_([]),o=_(!1),u=_(""),d=_(!1),g=_(!1),p=_(!1),c=_(null),l=_(null),a=_({current_page:1,per_page:10,total_items:0,total_pages:0}),n=ee(()=>r.user),m=async()=>{o.value=!0;try{const V={page:a.value.current_page,limit:a.value.per_page};u.value&&(V.search=u.value);const k=await A.get("/api/admin_users.php",{params:V});k.data.success&&(b.value=k.data.users,a.value=k.data.pagination)}catch(V){console.error("Ошибка загрузки пользователей:",V)}finally{o.value=!1}},f=()=>{a.value.current_page=1,m()},h=V=>{V>=1&&V<=a.value.total_pages&&(a.value.current_page=V,m())},M=()=>{const V=[],k=a.value.current_page,B=a.value.total_pages;if(B<=7)for(let E=1;E<=B;E++)V.push(E);else if(k<=4){for(let E=1;E<=5;E++)V.push(E);V.push("..."),V.push(B)}else if(k>=B-3){V.push(1),V.push("...");for(let E=B-4;E<=B;E++)V.push(E)}else{V.push(1),V.push("...");for(let E=k-1;E<=k+1;E++)V.push(E);V.push("..."),V.push(B)}return V},D=V=>{c.value={...V},g.value=!0},j=V=>{l.value=V,p.value=!0},x=async()=>{try{(await A.delete(`/api/admin_users.php?id=${l.value.id}`)).data.success&&(await m(),p.value=!1,l.value=null)}catch(V){console.error("Ошибка удаления пользователя:",V)}},y=()=>{d.value=!1,g.value=!1,c.value=null},S=async()=>{await m(),y()},H=V=>V?new Date(V).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return F(()=>{m()}),Z(()=>i.path,(V,k)=>{V==="/admin/users"&&V!==k&&G(()=>{m()})}),te((V,k)=>{V.path==="/admin/users"&&G(()=>{m()})}),(V,k)=>(t(),s("div",zd,[e("div",Ud,[k[6]||(k[6]=e("div",null,[e("h1",{class:"text-xl sm:text-2xl font-bold text-gray-900"},"Пользователи"),e("p",{class:"text-sm text-gray-600"},"Управление пользователями админки")],-1)),e("button",{onClick:k[0]||(k[0]=B=>d.value=!0),class:"bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-sm w-full sm:w-auto shadow-lg hover:shadow-xl transition-all duration-200 font-medium"},k[5]||(k[5]=[e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),R(" Добавить пользователя ",-1)]))]),e("div",Hd,[$(e("input",{"onUpdate:modelValue":k[1]||(k[1]=B=>u.value=B),type:"text",placeholder:"Поиск по имени, email или логину...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",onInput:f},null,544),[[U,u.value]])]),e("div",Ad,[o.value?(t(),s("div",Ld,[T(re)])):b.value.length===0?(t(),s("div",Pd,k[7]||(k[7]=[e("svg",{class:"w-12 h-12 mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-6a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1),e("p",{class:"text-base"},"Пользователи не найдены",-1)]))):(t(),s("div",Sd,[e("div",Ed,[e("table",Id,[k[10]||(k[10]=e("thead",{class:"bg-gray-50 sticky top-0"},[e("tr",null,[e("th",{class:"px-3 sm:px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"35%"}}," Пользователь "),e("th",{class:"px-2 sm:px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",style:{width:"15%"}}," Роль "),e("th",{class:"px-2 sm:px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",style:{width:"15%"}}," Статус "),e("th",{class:"px-2 sm:px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell",style:{width:"20%"}}," Последний вход "),e("th",{class:"px-3 sm:px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"15%"}}," Действия ")])],-1)),e("tbody",Dd,[(t(!0),s(z,null,L(b.value,B=>(t(),s("tr",{key:B.id,class:"hover:bg-gray-50"},[e("td",qd,[e("div",Td,[e("div",Rd,[e("div",Od,[e("span",Wd,v(B.full_name.charAt(0).toUpperCase()),1)])]),e("div",Nd,[e("div",Fd,v(B.full_name),1),e("div",Gd,v(B.email),1),e("div",Qd,"@"+v(B.username),1),e("div",Kd,[e("span",{class:O(["inline-flex px-2 py-1 text-xs font-semibold rounded-full mr-2",B.role==="admin"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"])},v(B.role==="admin"?"Админ":"Редактор"),3),e("span",{class:O(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",B.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},v(B.is_active?"Активен":"Неактивен"),3)])])])]),e("td",Yd,[e("span",{class:O(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",B.role==="admin"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"])},v(B.role==="admin"?"Админ":"Редактор"),3)]),e("td",Jd,[e("span",{class:O(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",B.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},v(B.is_active?"Активен":"Неактивен"),3)]),e("td",Xd,v(B.last_login?H(B.last_login):"Никогда"),1),e("td",Zd,[e("div",e0,[e("button",{onClick:E=>D(B),class:"inline-flex items-center justify-center text-blue-600 hover:text-blue-900 text-xs px-1.5 py-1 rounded hover:bg-blue-50 transition-colors whitespace-nowrap min-w-0",title:"Редактировать"},k[8]||(k[8]=[e("svg",{class:"w-3 h-3 mr-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),e("span",{class:"hidden sm:inline truncate text-xs"},"Изменить",-1),e("span",{class:"sm:hidden truncate text-xs"},"Изменить",-1)]),8,t0),B.id!==n.value?.id?(t(),s("button",{key:0,onClick:E=>j(B),class:"inline-flex items-center justify-center text-red-600 hover:text-red-900 text-xs px-1.5 py-1 rounded hover:bg-red-50 transition-colors whitespace-nowrap min-w-0",title:"Удалить"},k[9]||(k[9]=[e("svg",{class:"w-3 h-3 mr-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),e("span",{class:"hidden sm:inline truncate text-xs"},"Удалить",-1),e("span",{class:"sm:hidden truncate text-xs"},"Удал.",-1)]),8,s0)):C("",!0)])])]))),128))])])])]))]),a.value.total_pages>1?(t(),s("div",o0,[e("div",r0,[e("button",{onClick:k[2]||(k[2]=B=>h(a.value.current_page-1)),disabled:a.value.current_page===1,class:"relative inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Назад ",8,l0),e("button",{onClick:k[3]||(k[3]=B=>h(a.value.current_page+1)),disabled:a.value.current_page===a.value.total_pages,class:"ml-3 relative inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Вперед ",8,a0)]),e("div",n0,[e("div",null,[e("p",i0,[k[11]||(k[11]=R(" Показано ",-1)),e("span",d0,v((a.value.current_page-1)*a.value.per_page+1),1),k[12]||(k[12]=R(" до ",-1)),e("span",u0,v(Math.min(a.value.current_page*a.value.per_page,a.value.total_items)),1),k[13]||(k[13]=R(" из ",-1)),e("span",c0,v(a.value.total_items),1),k[14]||(k[14]=R(" результатов ",-1))])]),e("div",null,[e("nav",m0,[(t(!0),s(z,null,L(M(),B=>(t(),s("button",{key:B,onClick:E=>h(B),class:O([B===a.value.current_page?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-3 sm:px-4 py-2 border text-sm font-medium"])},v(B),11,p0))),128))])])])])):C("",!0),d.value||g.value?(t(),q(Bd,{key:1,user:c.value,mode:d.value?"create":"edit",onClose:y,onSaved:S},null,8,["user","mode"])):C("",!0),p.value?(t(),s("div",v0,[e("div",g0,[k[17]||(k[17]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Подтверждение удаления",-1)),e("p",x0,[k[15]||(k[15]=R(" Вы уверены, что хотите удалить пользователя ",-1)),e("strong",null,v(l.value?.full_name),1),k[16]||(k[16]=R("? Это действие нельзя отменить. ",-1))]),e("div",b0,[e("button",{onClick:k[4]||(k[4]=B=>p.value=!1),class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm sm:text-base"}," Отмена "),e("button",{onClick:x,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 text-sm sm:text-base"}," Удалить ")])])])):C("",!0)]))}},y0={class:"space-y-6"},f0={key:0},w0={key:1},_0={class:"flex items-center justify-between"},k0={class:"flex space-x-3"},$0=["disabled"],C0={key:0},j0={key:1},M0={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},V0={class:"bg-white rounded-lg shadow p-6"},B0={class:"space-y-4"},z0={class:"flex items-center justify-between"},U0={class:"flex items-center space-x-2"},H0={class:"bg-white rounded-lg shadow p-6"},A0={class:"space-y-3"},L0={class:"flex items-center space-x-3"},P0={class:"text-sm text-gray-500"},S0={class:"flex items-center space-x-3"},E0={class:"text-sm text-gray-500"},I0={class:"flex items-center space-x-3"},D0={class:"text-sm text-gray-500"},q0={class:"bg-white rounded-lg shadow p-6"},T0={class:"flex items-center justify-between mb-4"},R0={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},O0={class:"border border-gray-200 rounded-lg p-4"},W0={class:"space-y-2"},N0={class:"flex items-center justify-between"},F0={class:"flex items-center space-x-2"},G0={class:"text-xs font-mono"},Q0={key:0,class:"flex items-center justify-between"},K0={class:"flex items-center space-x-2"},Y0={key:1,class:"flex items-center justify-between"},J0={class:"flex items-center space-x-2"},X0={class:"border border-gray-200 rounded-lg p-4"},Z0={class:"space-y-2"},eu={class:"flex items-center justify-between"},tu={class:"flex items-center space-x-2"},su={class:"text-xs font-mono"},ou={key:0,class:"flex items-center justify-between"},ru={class:"flex items-center space-x-2"},lu={key:1,class:"flex items-center justify-between"},au={class:"flex items-center space-x-2"},nu={class:"bg-white rounded-lg shadow p-6"},iu={class:"flex items-center justify-between mb-4"},du={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},uu={class:"space-y-3"},cu={class:"space-y-2"},mu={class:"space-y-3"},pu={class:"space-y-2"},vu={class:"flex space-x-2"},gu={class:"space-y-3"},xu={class:"space-y-2"},bu={class:"space-y-3"},hu={class:"mt-3"},yu={class:"space-y-3"},fu={class:"space-y-2"},wu={class:"flex items-center space-x-3"},_u={class:"flex items-center space-x-3"},ku={class:"space-y-3"},$u={class:"space-y-2"},Cu={class:"flex space-x-2"},ju={__name:"AdminColorPalette",setup(w){const i=_(!0),r=_(!1),b=_(""),o=_("success"),u=_(!1),d=_(!1),g=_("#2563eb"),p={primary:{main:"#2563eb",light:"#3b82f6",dark:"#1d4ed8",contrast:"#ffffff"},textColor:{main:"#1e293b",light:"#64748b",dark:"#0f172a",contrast:"#ffffff"},background:{primary:"#ffffff",secondary:"#f8fafc",tertiary:"#f1f5f9"},text:{primary:"#1e293b",secondary:"#64748b",muted:"#94a3b8"},border:{primary:"#e2e8f0",secondary:"#cbd5e1"},success:{main:"#10b981",light:"#34d399",dark:"#059669"},error:{main:"#ef4444",light:"#f87171",dark:"#dc2626"},warning:{main:"#f59e0b",light:"#fbbf24",dark:"#d97706"},info:{main:"#3b82f6",light:"#60a5fa",dark:"#2563eb"}},c=_({...p}),l=j=>{const x=parseInt(j.substr(1,2),16)/255,y=parseInt(j.substr(3,2),16)/255,S=parseInt(j.substr(5,2),16)/255,H=Math.max(x,y,S),V=Math.min(x,y,S);let k,B,E=(H+V)/2;if(H===V)k=B=0;else{const se=H-V;switch(B=E>.5?se/(2-H-V):se/(H+V),H){case x:k=(y-S)/se+(y<S?6:0);break;case y:k=(S-x)/se+2;break;case S:k=(x-y)/se+4;break}k/=6}return[k*360,B*100,E*100]},a=(j,x,y)=>{j/=360,x/=100,y/=100;const S=(1-Math.abs(2*y-1))*x,H=S*(1-Math.abs(j*6%2-1)),V=y-S/2;let k=0,B=0,E=0;0<=j&&j<1/6?(k=S,B=H,E=0):1/6<=j&&j<1/3?(k=H,B=S,E=0):1/3<=j&&j<1/2?(k=0,B=S,E=H):1/2<=j&&j<2/3?(k=0,B=H,E=S):2/3<=j&&j<5/6?(k=H,B=0,E=S):5/6<=j&&j<=1&&(k=S,B=0,E=H);const se=Math.round((k+V)*255).toString(16).padStart(2,"0"),he=Math.round((B+V)*255).toString(16).padStart(2,"0"),ye=Math.round((E+V)*255).toString(16).padStart(2,"0");return`#${se}${he}${ye}`},n=j=>{const[x,y,S]=l(j),H=Math.min(100,S+(100-S)*.3),V=a(x,y,H),k=Math.max(0,S*.7),B=a(x,y,k);return{light:V,dark:B}},m=j=>{const[x,y,S]=l(j),H=a(x,Math.min(15,y*.2),Math.max(15,Math.min(25,S*.3))),V=a(x,Math.min(10,y*.15),Math.max(40,Math.min(60,S*.8))),k=a(x,Math.min(20,y*.3),Math.max(5,Math.min(15,S*.2)));return{main:H,light:V,dark:k,contrast:"#ffffff"}},f=()=>{const j=n(g.value),x=m(g.value);c.value={...c.value,primary:{main:g.value,light:j.light,dark:j.dark,contrast:"#ffffff"},textColor:x,background:{primary:"#ffffff",secondary:"#f8fafc",tertiary:"#f1f5f9"},text:{primary:"#1e293b",secondary:"#64748b",muted:"#94a3b8"},border:{primary:"#e2e8f0",secondary:"#cbd5e1"},success:{main:"#10b981",light:"#34d399",dark:"#059669"},error:{main:"#ef4444",light:"#f87171",dark:"#dc2626"},warning:{main:"#f59e0b",light:"#fbbf24",dark:"#d97706"},info:{main:"#3b82f6",light:"#60a5fa",dark:"#2563eb"}}},h=async()=>{try{const j=await A.get("/api/settings.php?key=color_palette");j.data&&j.data.setting_value&&(c.value={...p,...j.data.setting_value},g.value=c.value.primary.main),f()}catch(j){console.error("Ошибка загрузки цветовой палитры:",j),b.value="Ошибка загрузки цветовой палитры",o.value="error",f()}finally{i.value=!1}},M=async()=>{r.value=!0,b.value="";try{if((await A.post("/api/settings.php",{setting_key:"color_palette",setting_value:c.value,setting_type:"json",description:"Настройки цветовой палитры сайта для админки"})).data.success)b.value="Цветовая палитра успешно сохранена",o.value="success";else throw new Error("Ошибка сохранения")}catch(j){console.error("Ошибка сохранения цветовой палитры:",j),b.value="Ошибка сохранения цветовой палитры",o.value="error"}finally{r.value=!1}},D=()=>{g.value=p.primary.main,f(),b.value="Палитра сброшена к значениям по умолчанию",o.value="success"};return F(()=>{h()}),(j,x)=>(t(),s("div",y0,[i.value?(t(),s("div",f0,[T(re)])):(t(),s("div",w0,[e("div",_0,[x[12]||(x[12]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Цветовая палитра"),e("p",{class:"text-gray-600"},"Настройка цветов сайта архитектора. Выберите основной цвет, остальные оттенки сгенерируются автоматически для создания гармоничной цветовой схемы.")],-1)),e("div",k0,[e("button",{onClick:D,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200"}," Сбросить "),e("button",{onClick:M,disabled:r.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},[r.value?(t(),s("span",C0,"Сохранение...")):(t(),s("span",j0,"Сохранить"))],8,$0)])]),b.value?(t(),s("div",{key:0,class:O(["p-4 rounded-lg",o.value==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"])},v(b.value),3)):C("",!0),e("div",M0,[e("div",V0,[x[14]||(x[14]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Основной цвет сайта",-1)),x[15]||(x[15]=e("p",{class:"text-sm text-gray-600 mb-4"},"Этот цвет будет использоваться как основной акцентный цвет для заголовков, кнопок, ссылок и ключевых элементов интерфейса сайта архитектора",-1)),e("div",B0,[e("div",z0,[x[13]||(x[13]=e("label",{class:"text-sm font-medium text-gray-700"},"Основной цвет",-1)),e("div",U0,[$(e("input",{"onUpdate:modelValue":x[0]||(x[0]=y=>g.value=y),type:"color",class:"w-12 h-8 rounded border border-gray-300 cursor-pointer",onInput:f},null,544),[[U,g.value]]),$(e("input",{"onUpdate:modelValue":x[1]||(x[1]=y=>g.value=y),type:"text",class:"w-20 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"#2563eb",onInput:f},null,544),[[U,g.value]])])])]),x[16]||(x[16]=Q('<div class="mt-6 p-4 bg-gray-50 rounded-lg"><h4 class="font-medium text-gray-900 mb-2">Где используется на сайте:</h4><ul class="text-sm text-gray-600 space-y-1"><li>• <strong>Заголовки и логотип</strong> - основной цвет для названия архитектора в шапке</li><li>• <strong>Навигационные ссылки</strong> - цвет при наведении и активных состояниях</li><li>• <strong>Кнопки действий</strong> - &quot;Обсудить проект&quot;, &quot;Связаться&quot;, &quot;Посмотреть все проекты&quot;</li><li>• <strong>Акцентные элементы</strong> - иконки, теги проектов, стрелки</li><li>• <strong>Интерактивные элементы</strong> - hover-эффекты, фокусные состояния</li><li>• <strong>Фоновые акценты</strong> - градиенты, декоративные элементы</li></ul></div>',1))]),e("div",H0,[x[20]||(x[20]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Предварительный просмотр",-1)),e("div",A0,[e("div",L0,[e("div",{class:"w-8 h-8 rounded",style:I({backgroundColor:c.value.primary.main})},null,4),x[17]||(x[17]=e("span",{class:"text-sm font-medium"},"Основной цвет",-1)),e("span",P0,v(c.value.primary.main),1)]),e("div",S0,[e("div",{class:"w-8 h-8 rounded",style:I({backgroundColor:c.value.primary.light})},null,4),x[18]||(x[18]=e("span",{class:"text-sm font-medium"},"Светлый оттенок",-1)),e("span",E0,v(c.value.primary.light),1)]),e("div",I0,[e("div",{class:"w-8 h-8 rounded",style:I({backgroundColor:c.value.primary.dark})},null,4),x[19]||(x[19]=e("span",{class:"text-sm font-medium"},"Темный оттенок",-1)),e("span",D0,v(c.value.primary.dark),1)])])])]),e("div",q0,[e("div",T0,[x[21]||(x[21]=e("h3",{class:"text-lg font-medium text-gray-900"},"Сгенерированная палитра",-1)),e("button",{onClick:x[2]||(x[2]=y=>u.value=!u.value),class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},v(u.value?"Скрыть":"Показать")+" расширенные настройки ",1)]),e("div",R0,[e("div",O0,[x[25]||(x[25]=e("h4",{class:"font-medium text-gray-900 mb-3"},"Основные цвета",-1)),e("div",W0,[e("div",N0,[x[22]||(x[22]=e("span",{class:"text-sm text-gray-600"},"Основной",-1)),e("div",F0,[e("div",{class:"w-6 h-6 rounded border",style:I({backgroundColor:c.value.primary.main})},null,4),e("span",G0,v(c.value.primary.main),1)])]),u.value?(t(),s("div",Q0,[x[23]||(x[23]=e("span",{class:"text-sm text-gray-600"},"Светлый",-1)),e("div",K0,[$(e("input",{"onUpdate:modelValue":x[3]||(x[3]=y=>c.value.primary.light=y),type:"color",class:"w-6 h-6 rounded border border-gray-300 cursor-pointer"},null,512),[[U,c.value.primary.light]]),$(e("input",{"onUpdate:modelValue":x[4]||(x[4]=y=>c.value.primary.light=y),type:"text",class:"w-16 px-1 py-0.5 text-xs border border-gray-300 rounded"},null,512),[[U,c.value.primary.light]])])])):C("",!0),u.value?(t(),s("div",Y0,[x[24]||(x[24]=e("span",{class:"text-sm text-gray-600"},"Темный",-1)),e("div",J0,[$(e("input",{"onUpdate:modelValue":x[5]||(x[5]=y=>c.value.primary.dark=y),type:"color",class:"w-6 h-6 rounded border border-gray-300 cursor-pointer"},null,512),[[U,c.value.primary.dark]]),$(e("input",{"onUpdate:modelValue":x[6]||(x[6]=y=>c.value.primary.dark=y),type:"text",class:"w-16 px-1 py-0.5 text-xs border border-gray-300 rounded"},null,512),[[U,c.value.primary.dark]])])])):C("",!0)])]),e("div",X0,[x[29]||(x[29]=e("h4",{class:"font-medium text-gray-900 mb-3"},"Цвет текста",-1)),e("div",Z0,[e("div",eu,[x[26]||(x[26]=e("span",{class:"text-sm text-gray-600"},"Основной",-1)),e("div",tu,[e("div",{class:"w-6 h-6 rounded border",style:I({backgroundColor:c.value.textColor.main})},null,4),e("span",su,v(c.value.textColor.main),1)])]),u.value?(t(),s("div",ou,[x[27]||(x[27]=e("span",{class:"text-sm text-gray-600"},"Светлый",-1)),e("div",ru,[$(e("input",{"onUpdate:modelValue":x[7]||(x[7]=y=>c.value.textColor.light=y),type:"color",class:"w-6 h-6 rounded border border-gray-300 cursor-pointer"},null,512),[[U,c.value.textColor.light]]),$(e("input",{"onUpdate:modelValue":x[8]||(x[8]=y=>c.value.textColor.light=y),type:"text",class:"w-16 px-1 py-0.5 text-xs border border-gray-300 rounded"},null,512),[[U,c.value.textColor.light]])])])):C("",!0),u.value?(t(),s("div",lu,[x[28]||(x[28]=e("span",{class:"text-sm text-gray-600"},"Темный",-1)),e("div",au,[$(e("input",{"onUpdate:modelValue":x[9]||(x[9]=y=>c.value.textColor.dark=y),type:"color",class:"w-6 h-6 rounded border border-gray-300 cursor-pointer"},null,512),[[U,c.value.textColor.dark]]),$(e("input",{"onUpdate:modelValue":x[10]||(x[10]=y=>c.value.textColor.dark=y),type:"text",class:"w-16 px-1 py-0.5 text-xs border border-gray-300 rounded"},null,512),[[U,c.value.textColor.dark]])])])):C("",!0)])])])]),e("div",nu,[e("div",iu,[x[30]||(x[30]=e("h3",{class:"text-lg font-medium text-gray-900"},"Примеры использования на сайте",-1)),e("button",{onClick:x[11]||(x[11]=y=>d.value=!d.value),class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},v(d.value?"Скрыть":"Показать")+" примеры ",1)]),d.value?(t(),s("div",du,[e("div",uu,[x[31]||(x[31]=e("h4",{class:"font-medium text-gray-900"},"Заголовки и логотип",-1)),e("div",cu,[e("div",{class:"p-3 rounded-lg border",style:I({borderColor:c.value.primary.light,backgroundColor:c.value.background.secondary})},[e("h5",{class:"font-bold text-xl",style:I({color:c.value.primary.main})},"Архитектор Иван Иванов",4),e("p",{class:"text-sm mt-1",style:I({color:c.value.textColor.light})},"Архитектор современности",4)],4)])]),e("div",mu,[x[32]||(x[32]=e("h4",{class:"font-medium text-gray-900"},"Навигация",-1)),e("div",pu,[e("div",vu,[e("a",{href:"#",class:"px-3 py-2 rounded-lg font-medium transition-colors",style:I({color:c.value.textColor.main})},"Обо мне",4),e("a",{href:"#",class:"px-3 py-2 rounded-lg font-medium transition-colors",style:I({color:c.value.primary.main,backgroundColor:c.value.primary.light+"20"})},"Проекты",4),e("a",{href:"#",class:"px-3 py-2 rounded-lg font-medium transition-colors",style:I({color:c.value.textColor.main})},"Контакты",4)])])]),e("div",gu,[x[33]||(x[33]=e("h4",{class:"font-medium text-gray-900"},"Кнопки действий",-1)),e("div",xu,[e("button",{class:"px-4 py-2 rounded-lg text-white font-medium w-full",style:I({backgroundColor:c.value.primary.main})}," Обсудить проект ",4),e("button",{class:"px-4 py-2 rounded-lg border font-medium w-full",style:I({borderColor:c.value.primary.main,color:c.value.primary.main})}," Посмотреть все проекты ",4)])]),e("div",bu,[x[34]||(x[34]=e("h4",{class:"font-medium text-gray-900"},"Карточки проектов",-1)),e("div",{class:"p-4 rounded-lg border shadow-sm",style:I({borderColor:c.value.primary.light,backgroundColor:c.value.background.primary})},[e("div",{class:"h-24 bg-gradient-to-br rounded-lg mb-3",style:I({background:`linear-gradient(135deg, ${c.value.primary.light}20, ${c.value.primary.main}20)`})},null,4),e("h5",{class:"font-medium",style:I({color:c.value.textColor.main})},"Современный дом",4),e("p",{class:"text-sm mt-1",style:I({color:c.value.textColor.light})},"Частный дом в современном стиле",4),e("div",hu,[e("span",{class:"text-xs px-2 py-1 rounded-full font-medium",style:I({backgroundColor:c.value.primary.light+"30",color:c.value.primary.dark})}," Архитектура ",4)])],4)]),e("div",yu,[x[37]||(x[37]=e("h4",{class:"font-medium text-gray-900"},"Акцентные элементы",-1)),e("div",fu,[e("div",wu,[e("div",{class:"w-8 h-8 rounded-lg flex items-center justify-center",style:I({backgroundColor:c.value.primary.main})},x[35]||(x[35]=[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]),4),e("span",{class:"text-sm font-medium",style:I({color:c.value.textColor.main})},"10+ лет опыта",4)]),e("div",_u,[e("div",{class:"w-8 h-8 rounded-lg flex items-center justify-center",style:I({backgroundColor:c.value.primary.light})},[(t(),s("svg",{class:"w-4 h-4",style:I({color:c.value.primary.dark}),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},x[36]||(x[36]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"},null,-1)]),4))],4),e("span",{class:"text-sm font-medium",style:I({color:c.value.textColor.main})},"Инновационный подход",4)])])]),e("div",ku,[x[38]||(x[38]=e("h4",{class:"font-medium text-gray-900"},"Формы и интерактивные элементы",-1)),e("div",$u,[e("input",{type:"text",placeholder:"Ваше имя",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2",style:I({borderColor:c.value.primary.light,"--tw-ring-color":c.value.primary.main})},null,4),e("div",Cu,[e("button",{class:"px-3 py-1 rounded text-sm font-medium",style:I({backgroundColor:c.value.primary.main,color:c.value.primary.contrast})}," Отправить ",4),e("button",{class:"px-3 py-1 rounded text-sm font-medium border",style:I({borderColor:c.value.primary.main,color:c.value.primary.main})}," Отмена ",4)])])])])):C("",!0)])]))]))}};var Mu=_e();const Vu=ke(Mu),Bu={class:"space-y-6"},zu={key:0,class:"text-center py-8"},Uu={key:1},Hu={class:"bg-white rounded-lg shadow"},Au={class:"p-6"},Lu={key:0,class:"text-center py-8 text-gray-500"},Pu={key:1,class:"space-y-4"},Su={class:"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-white hover:shadow-md transition-all duration-200 cursor-move"},Eu={class:"flex items-center space-x-4"},Iu={class:"flex-1"},Du={class:"font-medium text-gray-900"},qu={class:"text-sm text-gray-600"},Tu={class:"flex items-center space-x-4"},Ru={class:"flex items-center"},Ou={class:"relative inline-flex items-center cursor-pointer"},Wu=["onUpdate:modelValue","onChange"],Nu={class:"ml-3 text-sm font-medium text-gray-900"},Fu={class:"flex justify-end space-x-4"},Gu=["disabled"],Qu={key:0,class:"flex items-center"},Ku={key:1},Yu={key:2,class:"fixed top-4 right-4 z-50"},Ju={class:"flex items-center"},Xu={key:0,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Zu={key:1,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ec={__name:"AdminComponentsEdit",setup(w){const i=_([]),r=_(!0),b=_(!1),o=_(null),u=async()=>{try{const a=await A.get("/api/admin_components.php");a.data&&(i.value=a.data)}catch(a){console.error("Ошибка загрузки компонентов:",a),l("Ошибка загрузки компонентов","error")}finally{r.value=!1}},d=async()=>{b.value=!0;try{i.value.forEach((n,m)=>{n.order=m+1}),(await A.post("/api/admin_components.php",i.value)).data.success?l("Компоненты успешно сохранены","success"):l("Ошибка сохранения компонентов","error")}catch(a){console.error("Ошибка сохранения компонентов:",a),l("Ошибка сохранения компонентов","error")}finally{b.value=!1}},g=a=>{console.log(`Компонент ${a.name} ${a.visible?"показан":"скрыт"}`)},p=()=>{i.value.forEach((a,n)=>{a.order=n+1})},c=()=>{confirm("Вы уверены, что хотите сбросить все настройки к значениям по умолчанию?")&&(i.value=[{id:"about",name:"О себе",component:"About",visible:!0,order:1,description:"Секция с информацией о себе"},{id:"gallery",name:"Галерея",component:"Gallery",visible:!0,order:2,description:"Галерея проектов"},{id:"steps",name:"Этапы работы",component:"Steps",visible:!0,order:3,description:"Этапы работы над проектами"},{id:"reviews",name:"Отзывы",component:"Reviews",visible:!0,order:4,description:"Отзывы клиентов"},{id:"contacts",name:"Контакты",component:"Contacts",visible:!0,order:5,description:"Контактная информация"}],l("Настройки сброшены к значениям по умолчанию","success"))},l=(a,n="success")=>{o.value={text:a,type:n},setTimeout(()=>{o.value=null},3e3)};return F(()=>{u()}),(a,n)=>(t(),s("div",Bu,[n[10]||(n[10]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Управление компонентами главной страницы"),e("p",{class:"text-gray-600"},"Настройте видимость и порядок компонентов на главной странице")],-1)),r.value?(t(),s("div",zu,n[1]||(n[1]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-2 text-gray-600"},"Загрузка компонентов...",-1)]))):(t(),s("div",Uu,[n[7]||(n[7]=Q('<div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6" data-v-6e8d45eb><div class="flex" data-v-6e8d45eb><div class="flex-shrink-0" data-v-6e8d45eb><svg class="h-5 w-5 text-blue-400" viewBox="0 0 20 20" fill="currentColor" data-v-6e8d45eb><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" data-v-6e8d45eb></path></svg></div><div class="ml-3" data-v-6e8d45eb><h3 class="text-sm font-medium text-blue-800" data-v-6e8d45eb>Как это работает</h3><div class="mt-2 text-sm text-blue-700" data-v-6e8d45eb><p data-v-6e8d45eb>• Перетаскивайте компоненты для изменения порядка</p><p data-v-6e8d45eb>• Используйте переключатели для показа/скрытия компонентов</p><p data-v-6e8d45eb>• Изменения применяются сразу после сохранения</p></div></div></div></div>',1)),e("div",Hu,[n[5]||(n[5]=e("div",{class:"p-6 border-b border-gray-200"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Компоненты главной страницы")],-1)),e("div",Au,[i.value.length===0?(t(),s("div",Lu," Компоненты не найдены ")):(t(),s("div",Pu,[T(N(Vu),{modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=m=>i.value=m),"item-key":"id",onEnd:p,class:"space-y-4","ghost-class":"sortable-ghost","drag-class":"sortable-drag"},{item:P(({element:m})=>[e("div",Su,[e("div",Eu,[n[2]||(n[2]=e("div",{class:"cursor-move text-gray-400 hover:text-gray-600"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8h16M4 16h16"})])],-1)),n[3]||(n[3]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])])],-1)),e("div",Iu,[e("h3",Du,v(m.name),1),e("p",qu,v(m.description),1)])]),e("div",Tu,[e("div",Ru,[e("label",Ou,[$(e("input",{type:"checkbox","onUpdate:modelValue":f=>m.visible=f,onChange:f=>g(m),class:"sr-only peer"},null,40,Wu),[[W,m.visible]]),n[4]||(n[4]=e("div",{class:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),e("span",Nu,v(m.visible?"Видимый":"Скрытый"),1)])])])])]),_:1},8,["modelValue"])]))])]),e("div",Fu,[e("button",{onClick:c,class:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Сбросить к значениям по умолчанию "),e("button",{onClick:d,disabled:b.value,class:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[b.value?(t(),s("span",Qu,n[6]||(n[6]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),R(" Сохранение... ",-1)]))):(t(),s("span",Ku,"Сохранить изменения"))],8,Gu)])])),o.value?(t(),s("div",Yu,[e("div",{class:O(["px-4 py-3 rounded-lg shadow-lg max-w-sm",o.value.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"])},[e("div",Ju,[o.value.type==="success"?(t(),s("svg",Xu,n[8]||(n[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):(t(),s("svg",Zu,n[9]||(n[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)]))),e("span",null,v(o.value.text),1)])],2)])):C("",!0)]))}},tc=ae(ec,[["__scopeId","data-v-6e8d45eb"]]),sc=[{path:"/",name:"Home",component:_o},{path:"/projects",name:"Projects",component:bt},{path:"/projects/:id",name:"ProjectView",component:Go},{path:"/admin/login",name:"AdminLogin",component:er,meta:{requiresGuest:!0}},{path:"/admin",component:pr,meta:{requiresAuth:!0},children:[{path:"",name:"AdminDashboard",component:el},{path:"about",name:"AdminAboutEdit",component:Na},{path:"header",name:"AdminHeaderEdit",component:Ti},{path:"contacts",name:"AdminContactsEdit",component:Nn},{path:"backup",name:"AdminBackup",component:pi},{path:"projects",name:"AdminProjectsList",component:Ll},{path:"projects/create",name:"AdminProjectCreate",component:xe},{path:"projects/edit/:id",name:"AdminProjectEdit",component:xe},{path:"users",name:"AdminUsersList",component:h0},{path:"colors",name:"AdminColorPalette",component:ju},{path:"components",name:"AdminComponentsEdit",component:tc}]}],ce=fe({history:we(),routes:sc});ce.beforeEach(async(w,i,r)=>{const b=ie();if(w.meta.requiresAuth&&!await b.checkAuth()){r("/admin/login");return}if(w.meta.requiresGuest&&b.isAuthenticated.value){r("/admin");return}r()});const ue={primary:{main:"#2563eb",light:"#3b82f6",dark:"#1d4ed8",contrast:"#ffffff"},textColor:{main:"#1e293b",light:"#64748b",dark:"#0f172a",contrast:"#ffffff"},background:{primary:"#ffffff",secondary:"#f8fafc",tertiary:"#f1f5f9"},text:{primary:"#1e293b",secondary:"#64748b",muted:"#94a3b8"},border:{primary:"#e2e8f0",secondary:"#cbd5e1"},success:{main:"#10b981",light:"#34d399",dark:"#059669"},error:{main:"#ef4444",light:"#f87171",dark:"#dc2626"},warning:{main:"#f59e0b",light:"#fbbf24",dark:"#d97706"},info:{main:"#3b82f6",light:"#60a5fa",dark:"#2563eb"}};async function oc(){try{const w=await A.get("/api/settings.php?key=color_palette");return w.data&&w.data.setting_value?{...ue,...w.data.setting_value}:ue}catch(w){return console.error("Ошибка загрузки цветовой палитры:",w),ue}}function rc(w){const i=document.documentElement;i.style.setProperty("--primary-color",w.primary.main),i.style.setProperty("--primary-color-light",w.primary.light),i.style.setProperty("--primary-color-dark",w.primary.dark),i.style.setProperty("--primary-color-contrast",w.primary.contrast),i.style.setProperty("--text-color-main",w.textColor.main),i.style.setProperty("--text-color-light",w.textColor.light),i.style.setProperty("--text-color-dark",w.textColor.dark),i.style.setProperty("--text-color-contrast",w.textColor.contrast),i.style.setProperty("--background-primary",w.background.primary),i.style.setProperty("--background-secondary",w.background.secondary),i.style.setProperty("--background-tertiary",w.background.tertiary),i.style.setProperty("--text-primary",w.text.primary),i.style.setProperty("--text-secondary",w.text.secondary),i.style.setProperty("--text-muted",w.text.muted),i.style.setProperty("--border-primary",w.border.primary),i.style.setProperty("--border-secondary",w.border.secondary),i.style.setProperty("--success-color",w.success.main),i.style.setProperty("--error-color",w.error.main),i.style.setProperty("--warning-color",w.warning.main),i.style.setProperty("--info-color",w.info.main)}async function lc(){const w=await oc();return rc(w),w}lc().then(()=>{const w=ve(ge);w.use(ce),w.mount("#app")}).catch(w=>{console.error("Ошибка инициализации цветовой палитры:",w);const i=ve(ge);i.use(ce),i.mount("#app")});
